import{i as me,s as F,r as kn}from"./attributes.BMDjYIYG.js";import{I as te,C as Ie,D as bi,J as oe,t as re,a as $,F as vi,G as hi,g as t,aK as gi,s as S,f as G,c as v,r as _,H as I,u as x,b as ye,E as xn,L as ft,K as yi,aL as En}from"./render.e71zp6dr.js";import{e as Me,i as Je}from"./attributes.Bu9u21_b.js";import{s as Ne}from"./class.o1nnyBL4.js";import{b as An}from"./input.T_F2MOpi.js";import{T as wi,A as Sn,b as ki,c as xi}from"./unified-calculator.D6MK4bED.js";import{i as Ai}from"./lifecycle.BWefaNsD.js";import{m as Si}from"./mutants.BV8n5HBY.js";import{n as pt}from"./search-normalize.DFTxIqb8.js";import{s as Ci}from"./mutant-sort.C2ECefDI.js";const Ei=JSON.parse('[{"id":"orb_basic_attack","name":"Атака 2%","percent":"2","description":"Увеличение атаки мутанта (+2%)"},{"id":"orb_basic_attack_ephemeral_10","name":"Атака 2% (заряд: 10)","percent":"2","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_01","name":"Атака 5%","percent":"5","description":"Увеличение атаки мутанта (+5%)"},{"id":"orb_basic_attack_01_ephemeral_10","name":"Атака 5% (заряд: 10)","percent":"5","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_02","name":"Атака 10%","percent":"10","description":"Увеличение атаки мутанта (+10%)"},{"id":"orb_basic_attack_02_ephemeral_10","name":"Атака 10% (заряд: 10)","percent":"10","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_02_ephemeral_30","name":"Атака 10% (заряд: 30)","percent":"10","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_03","name":"Атака 12%","percent":"12","description":"Увеличение атаки мутанта (+12%)"},{"id":"orb_basic_attack_03_ephemeral_10","name":"Атака 12% (заряд: 10)","percent":"12","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_03_ephemeral_20","name":"Атака 12% (заряд: 20)","percent":"12","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_03_ephemeral_30","name":"Атака 12% (заряд: 30)","percent":"12","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_04","name":"Атака 14%","percent":"14","description":"Увеличение атаки мутанта (+14%)"},{"id":"orb_basic_attack_04_ephemeral_10","name":"Атака 14% (заряд: 10)","percent":"14","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_05","name":"Атака 16%","percent":"16","description":"Увеличение атаки мутанта (+16%)"},{"id":"orb_basic_attack_05_ephemeral_10","name":"Атака 16% (заряд: 10)","percent":"16","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_05_ephemeral_30","name":"Атака 16% (заряд: 30)","percent":"16","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_06","name":"Атака 17%","percent":"17","description":"Увеличение атаки мутанта (+17%)"},{"id":"orb_basic_attack_06_ephemeral_10","name":"Атака 17% (заряд: 10)","percent":"17","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_06_ephemeral_30","name":"Атака 17% (заряд: 30)","percent":"17","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_07","name":"Атака 18%","percent":"18","description":"Увеличение атаки мутанта (+18%)"},{"id":"orb_basic_attack_07_ephemeral_10","name":"Атака 18% (заряд: 10)","percent":"18","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_08_ephemeral_10","name":"Атака 19% (заряд: 10)","percent":"19","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_attack_09_ephemeral_10","name":"Атака 20% (заряд: 10)","percent":"20","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_life","name":"Здоровье 5%","percent":"5","description":"Увеличение здоровья мутанта (+5%)"},{"id":"orb_basic_life_01","name":"Здоровье 10%","percent":"10","description":"Увеличение здоровья мутанта (+10%)"},{"id":"orb_basic_life_02","name":"Здоровье 15%","percent":"15","description":"Увеличение здоровья мутанта (+15%)"},{"id":"orb_basic_life_03","name":"Здоровье 20%","percent":"20","description":"Увеличение здоровья мутанта (+20%)"},{"id":"orb_basic_life_03_ephemeral_10","name":"Здоровье 20% (заряд: 10)","percent":"20","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_life_03_ephemeral_20","name":"Здоровье 20% (заряд: 20)","percent":"20","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_life_03_ephemeral_30","name":"Здоровье 20% (заряд: 30)","percent":"20","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_life_04","name":"Здоровье 25%","percent":"25","description":"Увеличение здоровья мутанта (+25%)"},{"id":"orb_basic_life_05","name":"Здоровье 28%","percent":"28","description":"Увеличение здоровья мутанта (+28%)"},{"id":"orb_basic_life_06","name":"Здоровье 30%","percent":"30","description":"Увеличение здоровья мутанта (+30%)"},{"id":"orb_basic_life_07","name":"Здоровье 35%","percent":"35","description":"Увеличение здоровья мутанта (+35%)"},{"id":"orb_basic_critical","name":"Критический урон 2%","percent":"2","description":"Увеличение критического урона мутанта (+2%)"},{"id":"orb_basic_critical_01","name":"Критический урон 5%","percent":"5","description":"Увеличение критического урона мутанта (+5%)"},{"id":"orb_basic_critical_02","name":"Критический урон 11%","percent":"11","description":"Увеличение критического урона мутанта (+11%)"},{"id":"orb_basic_critical_03","name":"Критический урон 13%","percent":"13","description":"Увеличение критического урона мутанта (+13%)"},{"id":"orb_basic_critical_03_ephemeral_10","name":"Критический урон 13% (заряд: 10)","percent":"13","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_critical_03_ephemeral_20","name":"Критический урон 13% (заряд: 20)","percent":"13","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_critical_03_ephemeral_30","name":"Критический урон 13% (заряд: 30)","percent":"13","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_basic_critical_04","name":"Критический урон 15%","percent":"15","description":"Увеличение критического урона мутанта (+15%)"},{"id":"orb_basic_critical_05","name":"Критический урон 17%","percent":"17","description":"Увеличение критического урона мутанта (+17%)"},{"id":"orb_basic_critical_06","name":"Критический урон 18%","percent":"18","description":"Увеличение критического урона мутанта (+18%)"},{"id":"orb_basic_critical_07","name":"Критический урон 19%","percent":"19","description":"Увеличение критического урона мутанта (+19%)"},{"id":"orb_basic_regenerate","name":"Вытягивание жизни 3%","percent":"3","description":"Увеличение вытягивания жизни мутанта (+3%)"},{"id":"orb_basic_regenerate_01","name":"Вытягивание жизни 7%","percent":"7","description":"Увеличение вытягивания жизни мутанта (+7%)"},{"id":"orb_basic_regenerate_02","name":"Вытягивание жизни 15%","percent":"15","description":"Увеличение вытягивания жизни мутанта (+15%)"},{"id":"orb_basic_regenerate_03","name":"Вытягивание жизни 20%","percent":"20","description":"Увеличение вытягивания жизни мутанта (+20%)"},{"id":"orb_basic_regenerate_04","name":"Вытягивание жизни 25%","percent":"25","description":"Увеличение вытягивания жизни мутанта (+25%)"},{"id":"orb_basic_regenerate_05","name":"Вытягивание жизни 28%","percent":"28","description":"Увеличение вытягивания жизни мутанта (+28%)"},{"id":"orb_basic_regenerate_06","name":"Вытягивание жизни 30%","percent":"30","description":"Увеличение вытягивания жизни мутанта (+30%)"},{"id":"orb_basic_retaliate","name":"Контратака 3%","percent":"3","description":"Увеличение контратаки мутанта (+3%)"},{"id":"orb_basic_retaliate_01","name":"Контратака 7%","percent":"7","description":"Увеличение контратаки мутанта (+7%)"},{"id":"orb_basic_retaliate_02","name":"Контратака 15%","percent":"15","description":"Увеличение контратаки мутанта (+15%)"},{"id":"orb_basic_retaliate_03","name":"Контратака 17%","percent":"17","description":"Увеличение контратаки мутанта (+17%)"},{"id":"orb_basic_retaliate_04","name":"Контратака 18%","percent":"18","description":"Увеличение контратаки мутанта (+18%)"},{"id":"orb_basic_retaliate_05","name":"Контратака 19%","percent":"19","description":"Увеличение контратаки мутанта (+19%)"},{"id":"orb_basic_retaliate_06","name":"Контратака 20%","percent":"20","description":"Увеличение контратаки мутанта (+20%)"},{"id":"orb_basic_shield","name":"Щит 3%","percent":"3","description":"Увеличение щита мутанта (+3%)"},{"id":"orb_basic_shield_01","name":"Щит 7%","percent":"7","description":"Увеличение щита мутанта (+7%)"},{"id":"orb_basic_shield_02","name":"Щит 15%","percent":"15","description":"Увеличение щита мутанта (+15%)"},{"id":"orb_basic_shield_03","name":"Щит 19%","percent":"19","description":"Увеличение щита мутанта (+19%)"},{"id":"orb_basic_shield_04","name":"Щит 22%","percent":"22","description":"Увеличение щита мутанта (+22%)"},{"id":"orb_basic_shield_05","name":"Щит 24%","percent":"24","description":"Увеличение щита мутанта (+24%)"},{"id":"orb_basic_shield_06","name":"Щит 25%","percent":"25","description":"Увеличение щита мутанта (+25%)"},{"id":"orb_basic_slash","name":"Ранение 3%","percent":"3","description":"Увеличение ранения мутанта (+3%)"},{"id":"orb_basic_slash_01","name":"Ранение 7%","percent":"7","description":"Увеличение ранения мутанта (+7%)"},{"id":"orb_basic_slash_02","name":"Ранение 15%","percent":"15","description":"Увеличение ранения мутанта (+15%)"},{"id":"orb_basic_slash_03","name":"Ранение 19%","percent":"19","description":"Увеличение ранения мутанта (+19%)"},{"id":"orb_basic_slash_04","name":"Ранение 22%","percent":"22","description":"Увеличение ранения мутанта (+22%)"},{"id":"orb_basic_slash_05","name":"Ранение 24%","percent":"24","description":"Увеличение ранения мутанта (+24%)"},{"id":"orb_basic_slash_06","name":"Ранение 25%","percent":"25","description":"Увеличение ранения мутанта (+25%)"},{"id":"orb_basic_strengthen","name":"Усиление 3%","percent":"3","description":"Увеличение усиления мутанта (+3%)"},{"id":"orb_basic_strengthen_01","name":"Усиление 7%","percent":"7","description":"Увеличение усиления мутанта (+7%)"},{"id":"orb_basic_strengthen_02","name":"Усиление 15%","percent":"15","description":"Увеличение усиления мутанта (+15%)"},{"id":"orb_basic_strengthen_03","name":"Усиление 19%","percent":"19","description":"Увеличение усиления мутанта (+19%)"},{"id":"orb_basic_strengthen_04","name":"Усиление 22%","percent":"22","description":"Увеличение усиления мутанта (+22%)"},{"id":"orb_basic_strengthen_05","name":"Усиление 24%","percent":"24","description":"Увеличение усиления мутанта (+24%)"},{"id":"orb_basic_strengthen_06","name":"Усиление 25%","percent":"25","description":"Увеличение усиления мутанта (+25%)"},{"id":"orb_basic_weaken","name":"Проклятие 3%","percent":"3","description":"Увеличение проклятия мутанта (+3%)"},{"id":"orb_basic_weaken_01","name":"Проклятие 7%","percent":"7","description":"Увеличение проклятия мутанта (+7%)"},{"id":"orb_basic_weaken_02","name":"Проклятие 15%","percent":"15","description":"Увеличение проклятия мутанта (+15%)"},{"id":"orb_basic_weaken_03","name":"Проклятие 19%","percent":"19","description":"Увеличение проклятия мутанта (+19%)"},{"id":"orb_basic_weaken_04","name":"Проклятие 21%","percent":"21","description":"Увеличение проклятия мутанта (+21%)"},{"id":"orb_basic_weaken_05","name":"Проклятие 24%","percent":"24","description":"Увеличение проклятия мутанта (+24%)"},{"id":"orb_basic_weaken_06","name":"Проклятие 25%","percent":"25","description":"Увеличение проклятия мутанта (+25%)"},{"id":"orb_special_addregenerate","name":"Спец. Вытягивание жизни 2%","percent":"2","description":"Добавить мутанту эффект вытягивания жизни (2%)"},{"id":"orb_special_addregenerate_01","name":"Спец. Вытягивание жизни 5%","percent":"5","description":"Добавить мутанту эффект вытягивания жизни (5%)"},{"id":"orb_special_addregenerate_02","name":"Спец. Вытягивание жизни 14%","percent":"14","description":"Добавить мутанту эффект вытягивания жизни (14%)"},{"id":"orb_special_addregenerate_03","name":"Спец. Вытягивание жизни 22%","percent":"22","description":"Добавить мутанту эффект вытягивания жизни (22%)"},{"id":"orb_special_addregenerate_03_ephemeral_10","name":"Спец. Вытягивание жизни 22% (заряд: 10)","percent":"22","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_special_addregenerate_03_ephemeral_20","name":"Спец. Вытягивание жизни 22% (заряд: 20)","percent":"22","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_special_addregenerate_03_ephemeral_30","name":"Спец. Вытягивание жизни 22% (заряд: 30)","percent":"22","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_special_addregenerate_04","name":"Спец. Вытягивание жизни 29%","percent":"29","description":"Добавить мутанту эффект вытягивания жизни (29%)"},{"id":"orb_special_addregenerate_05","name":"Спец. Вытягивание жизни 35%","percent":"35","description":"Добавить мутанту эффект вытягивания жизни (35%)"},{"id":"orb_special_addretaliate","name":"Спец. Контратака 1%","percent":"-1","description":"Добавить мутанту эффект контратаки (1%)"},{"id":"orb_special_addretaliate_01","name":"Спец. Контратака 2%","percent":"-2","description":"Добавить мутанту эффект контратаки (2%)"},{"id":"orb_special_addretaliate_02","name":"Спец. Контратака 5%","percent":"-5","description":"Добавить мутанту эффект контратаки (5%)"},{"id":"orb_special_addretaliate_03","name":"Спец. Контратака 13%","percent":"-13","description":"Добавить мутанту эффект контратаки (13%)"},{"id":"orb_special_addretaliate_04","name":"Спец. Контратака 20%","percent":"-20","description":"Добавить мутанту эффект контратаки (20%)"},{"id":"orb_special_addretaliate_05","name":"Спец. Контратака 25%","percent":"-25","description":"Добавить мутанту эффект контратаки (25%)"},{"id":"orb_special_addshield","name":"Спец. Щит 2%","percent":"2","description":"Добавить мутанту эффект щита (2%)"},{"id":"orb_special_addshield_01","name":"Спец. Щит 5%","percent":"5","description":"Добавить мутанту эффект щита (5%)"},{"id":"orb_special_addshield_02","name":"Спец. Щит 13%","percent":"13","description":"Добавить мутанту эффект щита (13%)"},{"id":"orb_special_addshield_03","name":"Спец. Щит 20%","percent":"20","description":"Добавить мутанту эффект щита (20%)"},{"id":"orb_special_addshield_03_ephemeral_10","name":"Спец. Щит 20% (заряд: 10)","percent":"20","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_special_addshield_03_ephemeral_20","name":"Спец. Щит 20% (заряд: 20)","percent":"20","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_special_addshield_03_ephemeral_30","name":"Спец. Щит 20% (заряд: 30)","percent":"20","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_special_addshield_04","name":"Спец. Щит 26%","percent":"26","description":"Добавить мутанту эффект щита (26%)"},{"id":"orb_special_addshield_05","name":"Спец. Щит 30%","percent":"30","description":"Добавить мутанту эффект щита (30%)"},{"id":"orb_special_addslash","name":"Спец. Ранение 2%","percent":"-2","description":"Добавить мутанту эффект ранения (2%)"},{"id":"orb_special_addslash_01","name":"Спец. Ранение 5%","percent":"-5","description":"Добавить мутанту эффект ранения (5%)"},{"id":"orb_special_addslash_02","name":"Спец. Ранение 13%","percent":"-13","description":"Добавить мутанту эффект ранения (13%)"},{"id":"orb_special_addslash_03","name":"Спец. Ранение 20%","percent":"-20","description":"Добавить мутанту эффект ранения (20%)"},{"id":"orb_special_addslash_04","name":"Спец. Ранение 26%","percent":"-26","description":"Добавить мутанту эффект ранения (26%)"},{"id":"orb_special_addslash_05","name":"Спец. Ранение 30%","percent":"-30","description":"Добавить мутанту эффект ранения (30%)"},{"id":"orb_special_addstrengthen","name":"Спец. Усиление 2%","percent":"2","description":"Добавить мутанту эффект усиления (2%)"},{"id":"orb_special_addstrengthen_01","name":"Спец. Усиление 5%","percent":"5","description":"Добавить мутанту эффект усиления (5%)"},{"id":"orb_special_addstrengthen_02","name":"Спец. Усиление 13%","percent":"13","description":"Добавить мутанту эффект усиления (13%)"},{"id":"orb_special_addstrengthen_03","name":"Спец. Усиление 20%","percent":"20","description":"Добавить мутанту эффект усиления (20%)"},{"id":"orb_special_addstrengthen_04","name":"Спец. Усиление 26%","percent":"26","description":"Добавить мутанту эффект усиления (26%)"},{"id":"orb_special_addstrengthen_05","name":"Спец. Усиление 30%","percent":"30","description":"Добавить мутанту эффект усиления (30%)"},{"id":"orb_special_addweaken","name":"Спец. Проклятие 2%","percent":"-2","description":"Добавить мутанту эффект проклятия (2%)"},{"id":"orb_special_addweaken_01","name":"Спец. Проклятие 5%","percent":"-5","description":"Добавить мутанту эффект проклятия (5%)"},{"id":"orb_special_addweaken_02","name":"Спец. Проклятие 13%","percent":"-13","description":"Добавить мутанту эффект проклятия (13%)"},{"id":"orb_special_addweaken_03","name":"Спец. Проклятие 20%","percent":"-20","description":"Добавить мутанту эффект проклятия (20%)"},{"id":"orb_special_addweaken_04","name":"Спец. Проклятие 26%","percent":"-26","description":"Добавить мутанту эффект проклятия (26%)"},{"id":"orb_special_addweaken_05","name":"Спец. Проклятие 30%","percent":"-30","description":"Добавить мутанту эффект проклятия (30%)"},{"id":"orb_special_speed","name":"Спец. Скорость 2%","percent":"2","description":"Увеличение скорости мутанта (+2%)"},{"id":"orb_special_speed_01","name":"Спец. Скорость 5%","percent":"5","description":"Увеличение скорости мутанта (+5%)"},{"id":"orb_special_speed_02","name":"Спец. Скорость 10%","percent":"10","description":"Увеличение скорости мутанта (+10%)"},{"id":"orb_special_speed_02_ephemeral_10","name":"Спец. Скорость 10% (заряд: 10)","percent":"10","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_special_speed_02_ephemeral_20","name":"Спец. Скорость 10% (заряд: 20)","percent":"10","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_special_speed_02_ephemeral_30","name":"Спец. Скорость 10% (заряд: 30)","percent":"10","description":"Предоставляет силу этой сферы на ограниченное количество битв. Доступно только в начале сражения"},{"id":"orb_special_speed_03","name":"Спец. Скорость 15%","percent":"15","description":"Увеличение скорости мутанта (+15%)"},{"id":"orb_special_speed_04","name":"Спец. Скорость 18%","percent":"18","description":"Увеличение скорости мутанта (+18%)"},{"id":"orb_special_speed_05","name":"Спец. Скорость 20%","percent":"20","description":"Увеличение скорости мутанта (+20%)"},{"id":"orb_basic_xp","name":"Опыт 10%","percent":"10","description":"Увеличивает опыт, получаемый мутантом в бою (+10%) Доступно только в начале сражения"},{"id":"orb_basic_xp_01","name":"Опыт 40%","percent":"40","description":"Увеличивает опыт, получаемый мутантом в бою (+40%) Доступно только в начале сражения"},{"id":"orb_basic_xp_02","name":"Опыт 80%","percent":"80","description":"Увеличивает опыт, получаемый мутантом в бою (+80%) Доступно только в начале сражения"},{"id":"orb_basic_xp_03","name":"Опыт 120%","percent":"120","description":"Увеличивает опыт, получаемый мутантом в бою (+120%) Доступно только в начале сражения"},{"id":"orb_basic_xp_04","name":"Опыт 150%","percent":"150","description":"Увеличивает опыт, получаемый мутантом в бою (+150%) Доступно только в начале сражения"},{"id":"orb_basic_xp_05","name":"Опыт 200%","percent":"200","description":"Увеличивает опыт, получаемый мутантом в бою (+200%) Доступно только в начале сражения"},{"id":"orb_basic_xp_06","name":"Опыт 300%","percent":"300","description":"Увеличивает опыт, получаемый мутантом в бою (+300%) Доступно только в начале сражения"}]'),Pi={"3.13":{lvl3:3.6,lvl4:3.69,lvl5:3.76},"3.23":{lvl3:3.72,lvl4:3.82,lvl5:3.88},"3.33":{lvl3:3.85,lvl4:3.94,lvl5:4},"3.39":{lvl3:3.91,lvl4:4,lvl5:4.08},"3.45":{lvl3:3.97,lvl4:4.08,lvl5:4.15},"3.51":{lvl3:4.05,lvl4:4.15,lvl5:4.22},"3.57":{lvl3:4.12,lvl4:4.22,lvl5:4.29},"3.64":{lvl3:4.18,lvl4:4.29,lvl5:4.37},"3.70":{lvl3:4.27,lvl4:4.39,lvl5:4.44},"3.77":{lvl3:4.35,lvl4:4.46,lvl5:4.55},"3.85":{lvl3:4.42,lvl4:4.55,lvl5:4.63},"3.92":{lvl3:4.52,lvl4:4.63,lvl5:4.72},"4.00":{lvl3:4.61,lvl4:4.74,lvl5:4.81},"4.08":{lvl3:4.69,lvl4:4.83,lvl5:4.9},"4.17":{lvl3:4.81,lvl4:4.93,lvl5:5},"4.26":{lvl3:4.9,lvl4:5.03,lvl5:5.13},"4.35":{lvl3:5,lvl4:5.15,lvl5:5.24},"4.44":{lvl3:5.13,lvl4:5.26,lvl5:5.35},"4.55":{lvl3:5.24,lvl4:5.38,lvl5:5.46},"4.65":{lvl3:5.38,lvl4:5.49,lvl5:5.59},"4.76":{lvl3:5.49,lvl4:5.65,lvl5:5.71},"5.00":{lvl3:5.78,lvl4:5.92,lvl5:6.02},"5.13":{lvl3:5.92,lvl4:6.06,lvl5:6.17},"5.26":{lvl3:6.06,lvl4:6.21,lvl5:6.33},"5.41":{lvl3:6.25,lvl4:6.41,lvl5:6.49},"5.56":{lvl3:6.41,lvl4:6.58,lvl5:6.67},"5.71":{lvl3:6.58,lvl4:6.76,lvl5:6.9},"5.88":{lvl3:6.8,lvl4:6.94,lvl5:7.09},"5.99":{lvl3:6.9,lvl4:7.09,lvl5:7.19},"6.06":{lvl3:6.99,lvl4:7.19,lvl5:7.3},"6.25":{lvl3:7.19,lvl4:7.41,lvl5:7.52},"6.33":{lvl3:7.3,lvl4:7.52,lvl5:7.63},"6.45":{lvl3:7.46,lvl4:7.63,lvl5:7.75},"6.67":{lvl3:7.69,lvl4:7.87,lvl5:8},"6.90":{lvl3:7.94,lvl4:8.2,lvl5:8.33},"7.14":{lvl3:8.26,lvl4:8.47,lvl5:8.62},"7.41":{lvl3:8.55,lvl4:8.77,lvl5:8.93},"7.69":{lvl3:8.85,lvl4:9.09,lvl5:9.26},"8.00":{lvl3:9.26,lvl4:9.52,lvl5:9.62},"8.33":{lvl3:9.62,lvl4:9.9,lvl5:10},"8.70":{lvl3:10,lvl4:10.31,lvl5:10.53},"8.85":{lvl3:10.2,lvl4:10.53,lvl5:10.64},"9.09":{lvl3:10.53,lvl4:10.75,lvl5:10.99},"9.52":{lvl3:10.99,lvl4:11.36,lvl5:11.49},"10.00":{lvl3:11.63,lvl4:11.9,lvl5:12.05},"10.53":{lvl3:12.2,lvl4:12.5,lvl5:12.66},"11.11":{lvl3:12.82,lvl4:13.16,lvl5:13.33},"11.76":{lvl3:13.7,lvl4:13.89,lvl5:14.29},"12.50":{lvl3:14.49,lvl4:14.93,lvl5:15.15},"12.66":{lvl3:14.71,lvl4:15.15,lvl5:15.38}};function Ti(ne){return ne>=19.5&&ne<=20.5?"lvl5":ne>=17.5&&ne<=18.5?"lvl4":ne>=14.5&&ne<=15.5?"lvl3":null}function Li(ne,rt){const Se=Ti(rt);if(!Se)return ne*(1+rt/100);const m=ne.toFixed(2),Ce=Pi[m];return Ce?Ce[Se]:ne*(1+rt/100)}function Ii(ne){return ne&&ne.__esModule&&Object.prototype.hasOwnProperty.call(ne,"default")?ne.default:ne}var Lt={exports:{}};/*! dom-to-image-more 23-10-2025 */var Mi=Lt.exports,Cn;function Ni(){return Cn||(Cn=1,(function(ne,rt){(Se=>{let m=(()=>{let d=0;return{escape:function(r){return r.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1")},isDataUrl:function(r){return r.search(/^(data:)/)!==-1},canvasToBlob:function(r){return r.toBlob?new Promise(function(u){r.toBlob(u)}):(u=>new Promise(function(h){var p=It(u.toDataURL().split(",")[1]),L=p.length,U=new Uint8Array(L);for(let ae=0;ae<L;ae++)U[ae]=p.charCodeAt(ae);h(new Blob([U],{type:"image/png"}))}))(r)},resolveUrl:function(r,u){var h=document.implementation.createHTMLDocument(),p=h.createElement("base"),L=(h.head.appendChild(p),h.createElement("a"));return h.body.appendChild(L),p.href=u,L.href=r,L.href},getAndEncode:function(r){let u=D.impl.urlCache.find(function(h){return h.url===r});return u||(u={url:r,promise:null},D.impl.urlCache.push(u)),u.promise===null&&(D.impl.options.cacheBust&&(r+=(/\?/.test(r)?"&":"?")+new Date().getTime()),u.promise=new Promise(function(h){let p=new XMLHttpRequest;function L(P){console.error(P),h("")}function U(){var P=D.impl.options.imagePlaceholder;P?h(P):L("Status:"+p.status+" while fetching resource: "+r)}if(p.timeout=D.impl.options.httpTimeout,p.onerror=U,p.ontimeout=U,p.onloadend=function(){if(p.readyState===XMLHttpRequest.DONE){var P=p.status;if(P===0&&r.toLowerCase().startsWith("file://")||200<=P&&P<=300&&p.response!==null){P=p.response,P instanceof Blob||L("Expected response to be a Blob, but got: "+typeof P);let K=new FileReader;K.onloadend=function(){var M=K.result;h(M)};try{K.readAsDataURL(P)}catch(M){L("Failed to read the response as Data URL: "+M.toString())}}else U()}},0<D.impl.options.useCredentialsFilters.length&&(D.impl.options.useCredentials=0<D.impl.options.useCredentialsFilters.filter(P=>0<=r.search(P)).length),D.impl.options.useCredentials&&(p.withCredentials=!0),D.impl.options.corsImg&&r.indexOf("http")===0&&r.indexOf(window.location.origin)===-1){var ae=(D.impl.options.corsImg.method||"GET").toUpperCase()==="POST"?"POST":"GET";p.open(ae,(D.impl.options.corsImg.url||"").replace("#{cors}",r),!0);let P=!1,K=D.impl.options.corsImg.headers||{},M=(Object.keys(K).forEach(function(c){K[c].indexOf("application/json")!==-1&&(P=!0),p.setRequestHeader(c,K[c])}),(c=>{try{return JSON.parse(JSON.stringify(c))}catch(W){L("corsImg.data is missing or invalid:"+W.toString())}})(D.impl.options.corsImg.data||""));Object.keys(M).forEach(function(c){typeof M[c]=="string"&&(M[c]=M[c].replace("#{cors}",r))}),p.responseType="blob",p.send(P?JSON.stringify(M):M)}else p.open("GET",r,!0),p.responseType="blob",p.send()})),u.promise},uid:function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+d++},asArray:function(r){var u=[],h=r.length;for(let p=0;p<h;p++)u.push(r[p]);return u},escapeXhtml:function(r){return r.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(r){return r!=="data:,"?new Promise(function(u,h){let p=document.createElementNS("http://www.w3.org/2000/svg","svg"),L=new Image;D.impl.options.useCredentials&&(L.crossOrigin="use-credentials"),L.onload=function(){document.body.removeChild(p),window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){u(L)}):u(L)},L.onerror=U=>{document.body.removeChild(p),h(U)},p.appendChild(L),L.src=r,document.body.appendChild(p)}):Promise.resolve()},width:function(r){var u=g(r,"width");if(!isNaN(u))return u;var u=g(r,"border-left-width"),h=g(r,"border-right-width");return r.scrollWidth+u+h},height:function(r){var u=g(r,"height");if(!isNaN(u))return u;var u=g(r,"border-top-width"),h=g(r,"border-bottom-width");return r.scrollHeight+u+h},getWindow:o,isElement:H,isElementHostForOpenShadowRoot:function(r){return H(r)&&r.shadowRoot!==null},isShadowRoot:E,isInShadowRoot:A,isHTMLElement:function(r){return r instanceof o(r).HTMLElement},isHTMLCanvasElement:function(r){return r instanceof o(r).HTMLCanvasElement},isHTMLInputElement:function(r){return r instanceof o(r).HTMLInputElement},isHTMLImageElement:function(r){return r instanceof o(r).HTMLImageElement},isHTMLLinkElement:function(r){return r instanceof o(r).HTMLLinkElement},isHTMLScriptElement:function(r){return r instanceof o(r).HTMLScriptElement},isHTMLStyleElement:function(r){return r instanceof o(r).HTMLStyleElement},isHTMLTextAreaElement:function(r){return r instanceof o(r).HTMLTextAreaElement},isShadowSlotElement:function(r){return A(r)&&r instanceof o(r).HTMLSlotElement},isSVGElement:function(r){return r instanceof o(r).SVGElement},isSVGRectElement:function(r){return r instanceof o(r).SVGRectElement},isDimensionMissing:function(r){return isNaN(r)||r<=0}};function o(r){return r=r?r.ownerDocument:void 0,(r?r.defaultView:void 0)||window||Se}function E(r){return r instanceof o(r).ShadowRoot}function A(r){return r!=null&&r.getRootNode!==void 0&&E(r.getRootNode())}function H(r){return r instanceof o(r).Element}function g(r,u){if(r.nodeType===at){let h=st(r).getPropertyValue(u);if(h.slice(-2)==="px")return h=h.slice(0,-2),parseFloat(h)}return NaN}})(),Ce=(()=>{let d=/url\(\s*(["']?)((?:\\.|[^\\)])+)\1\s*\)/gm;return{inlineAll:function(g,r,u){return o(g)?Promise.resolve(g).then(E).then(function(h){let p=Promise.resolve(g);return h.forEach(function(L){p=p.then(function(U){return H(U,L,r,u)})}),p}):Promise.resolve(g)},shouldProcess:o,impl:{readUrls:E,inline:H,urlAsRegex:A}};function o(g){return g.search(d)!==-1}function E(g){for(var r,u=[];(r=d.exec(g))!==null;)u.push(r[2]);return u.filter(function(h){return!m.isDataUrl(h)})}function A(g){return new RegExp(`url\\((["']?)(${m.escape(g)})\\1\\)`,"gm")}function H(g,r,u,h){return Promise.resolve(r).then(function(p){return u?m.resolveUrl(p,u):p}).then(h||m.getAndEncode).then(function(p){var L=A(r);return g.replace(L,`url($1${p}$1)`)})}})(),Ee={resolveAll:function(){return mt().then(function(d){return Promise.all(d.map(function(o){return o.resolve()}))}).then(function(d){return d.join(`
`)})},impl:{readAll:mt}};function mt(){return Promise.resolve(m.asArray(document.styleSheets)).then(function(o){let E=[];return o.forEach(function(A){var H=Object.getPrototypeOf(A);if(Object.prototype.hasOwnProperty.call(H,"cssRules"))try{m.asArray(A.cssRules||[]).forEach(E.push.bind(E))}catch(g){console.error("domtoimage: Error while reading CSS rules from: "+A.href,g.toString())}}),E}).then(function(o){return o.filter(function(E){return E.type===CSSRule.FONT_FACE_RULE}).filter(function(E){return Ce.shouldProcess(E.style.getPropertyValue("src"))})}).then(function(o){return o.map(d)});function d(o){return{resolve:function(){var E=(o.parentStyleSheet||{}).href;return Ce.inlineAll(o.cssText,E)},src:function(){return o.style.getPropertyValue("src")}}}}let bt={inlineAll:function d(o){if(!m.isElement(o))return Promise.resolve(o);return E(o).then(function(){return m.isHTMLImageElement(o)?vt(o).inline():Promise.all(m.asArray(o.childNodes).map(function(A){return d(A)}))});function E(A){let H=["background","background-image"],g=H.map(function(r){let u=A.style.getPropertyValue(r),h=A.style.getPropertyPriority(r);return u?Ce.inlineAll(u).then(function(p){A.style.setProperty(r,p,h)}):Promise.resolve()});return Promise.all(g).then(function(){return A})}},impl:{newImage:vt}};function vt(d){return{inline:function(o){return m.isDataUrl(d.src)?Promise.resolve():Promise.resolve(d.src).then(o||m.getAndEncode).then(function(E){return new Promise(function(A){d.onload=A,d.onerror=A,d.src=E})})}}}let Pe={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,useCredentialsFilters:[],httpTimeout:3e4,styleCaching:"strict",corsImg:void 0},D={toSvg:ht,toPng:function(d,o){return Xe(d,o).then(function(E){return E.toDataURL()})},toJpeg:function(d,o){return Xe(d,o).then(function(E){return E.toDataURL("image/jpeg",(o?o.quality:void 0)||1)})},toBlob:function(d,o){return Xe(d,o).then(m.canvasToBlob)},toPixelData:function(d,o){return Xe(d,o).then(function(E){return E.getContext("2d").getImageData(0,0,m.width(d),m.height(d)).data})},toCanvas:Xe,impl:{fontFaces:Ee,images:bt,util:m,inliner:Ce,urlCache:[],options:{},copyOptions:function(d){d.copyDefaultStyles===void 0?D.impl.options.copyDefaultStyles=Pe.copyDefaultStyles:D.impl.options.copyDefaultStyles=d.copyDefaultStyles,D.impl.options.imagePlaceholder=(d.imagePlaceholder===void 0?Pe:d).imagePlaceholder,D.impl.options.cacheBust=(d.cacheBust===void 0?Pe:d).cacheBust,D.impl.options.corsImg=(d.corsImg===void 0?Pe:d).corsImg,D.impl.options.useCredentials=(d.useCredentials===void 0?Pe:d).useCredentials,D.impl.options.useCredentialsFilters=(d.useCredentialsFilters===void 0?Pe:d).useCredentialsFilters,D.impl.options.httpTimeout=(d.httpTimeout===void 0?Pe:d).httpTimeout,D.impl.options.styleCaching=(d.styleCaching===void 0?Pe:d).styleCaching}}},at=(ne.exports=D,(Node===void 0?void 0:Node.ELEMENT_NODE)||1),st=(Se===void 0?void 0:Se.getComputedStyle)||(window===void 0?void 0:window.getComputedStyle)||globalThis.getComputedStyle,It=(Se===void 0?void 0:Se.atob)||(window===void 0?void 0:window.atob)||globalThis.atob;function ht(d,o){D.impl.util.getWindow(d);let E=(o=o||{},D.impl.copyOptions(o),[]);return Promise.resolve(d).then(function(A){if(A.nodeType===at)return A;var H=A,g=document.createElement("span");return H.replaceWith(g),g.append(A),E.push({child:H,wrapper:g}),g}).then(function(A){return(function H(g,r,u,h){let p=r.filter;if(g===we||m.isHTMLScriptElement(g)||m.isHTMLStyleElement(g)||m.isHTMLLinkElement(g)||u!==null&&p&&!p(g))return Promise.resolve();return Promise.resolve(g).then(L).then(U).then(function(c){return K(c,P(g))}).then(ae).then(function(c){return M(c,g)});function L(c){return m.isHTMLCanvasElement(c)?m.makeImage(c.toDataURL()):c.cloneNode(!1)}function U(c){return r.adjustClonedNode&&r.adjustClonedNode(g,c,!1),Promise.resolve(c)}function ae(c){return r.adjustClonedNode&&r.adjustClonedNode(g,c,!0),Promise.resolve(c)}function P(c){return m.isElementHostForOpenShadowRoot(c)?c.shadowRoot:c}function K(c,W){let Te=Be(W),$e=Promise.resolve();if(Te.length!==0){let pe=st(We(W));m.asArray(Te).forEach(function(be){$e=$e.then(function(){return H(be,r,pe).then(function(Le){Le&&c.appendChild(Le)})})})}return $e.then(function(){return c});function We(pe){return m.isShadowRoot(pe)?pe.host:pe}function Be(pe){if(m.isShadowSlotElement(pe)){let be=pe.assignedNodes();if(be&&0<be.length)return be}return pe.childNodes}}function M(c,W){return!m.isElement(c)||m.isShadowSlotElement(W)?Promise.resolve(c):Promise.resolve().then($e).then(We).then(Be).then(pe).then(Te).then(function(){return c});function Te(){m.isHTMLImageElement(c)&&(c.removeAttribute("loading"),W.srcset||W.sizes)&&(c.removeAttribute("srcset"),c.removeAttribute("sizes"),c.src=W.currentSrc||W.src)}function $e(){function be(Y,N){N.font=Y.font,N.fontFamily=Y.fontFamily,N.fontFeatureSettings=Y.fontFeatureSettings,N.fontKerning=Y.fontKerning,N.fontSize=Y.fontSize,N.fontStretch=Y.fontStretch,N.fontStyle=Y.fontStyle,N.fontVariant=Y.fontVariant,N.fontVariantCaps=Y.fontVariantCaps,N.fontVariantEastAsian=Y.fontVariantEastAsian,N.fontVariantLigatures=Y.fontVariantLigatures,N.fontVariantNumeric=Y.fontVariantNumeric,N.fontVariationSettings=Y.fontVariationSettings,N.fontWeight=Y.fontWeight}function Le(Y,N){let X=st(Y);X.cssText?(N.style.cssText=X.cssText,be(X,N.style)):(gt(r,Y,X,u,N),u===null&&(["inset-block","inset-block-start","inset-block-end"].forEach(ie=>N.style.removeProperty(ie)),["left","right","top","bottom"].forEach(ie=>{N.style.getPropertyValue(ie)&&N.style.setProperty(ie,"0px")})))}Le(W,c)}function We(){let be=m.uid();function Le(Y){let N=st(W,Y),X=N.getPropertyValue("content");if(X!==""&&X!=="none"){let ze=function(){let Oe=`.${be}:`+Y,ve=(N.cssText?le:Qe)();return document.createTextNode(Oe+`{${ve}}`);function le(){return`${N.cssText} content: ${X};`}function Qe(){return m.asArray(N).map(wt).join("; ")+";";function wt(Ze){let je=N.getPropertyValue(Ze),kt=N.getPropertyPriority(Ze)?" !important":"";return Ze+": "+je+kt}}},ie=c.getAttribute("class")||"",C=(c.setAttribute("class",ie+" "+be),document.createElement("style"));C.appendChild(ze()),c.appendChild(C)}}[":before",":after"].forEach(function(Y){Le(Y)})}function Be(){m.isHTMLTextAreaElement(W)&&(c.innerHTML=W.value),m.isHTMLInputElement(W)&&c.setAttribute("value",W.value)}function pe(){m.isSVGElement(c)&&(c.setAttribute("xmlns","http://www.w3.org/2000/svg"),m.isSVGRectElement(c))&&["width","height"].forEach(function(be){let Le=c.getAttribute(be);Le&&c.style.setProperty(be,Le)})}}})(A,o,null)}).then(o.disableEmbedFonts?Promise.resolve(d):Mt).then(o.disableInlineImages?Promise.resolve(d):Nt).then(function(A){o.bgcolor&&(A.style.backgroundColor=o.bgcolor),o.width&&(A.style.width=o.width+"px"),o.height&&(A.style.height=o.height+"px"),o.style&&Object.keys(o.style).forEach(function(g){A.style[g]=o.style[g]});let H=null;return typeof o.onclone=="function"&&(H=o.onclone(A)),Promise.resolve(H).then(function(){return A})}).then(function(A){let H=o.width||m.width(d),g=o.height||m.height(d);return Promise.resolve(A).then(function(r){return r.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(r)}).then(m.escapeXhtml).then(function(r){var u=(m.isDimensionMissing(H)?' width="100%"':` width="${H}"`)+(m.isDimensionMissing(g)?' height="100%"':` height="${g}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(m.isDimensionMissing(H)?"":` width="${H}"`)+(m.isDimensionMissing(g)?"":` height="${g}"`)}><foreignObject${u}>${r}</foreignObject></svg>`}).then(function(r){return"data:image/svg+xml;charset=utf-8,"+r})}).then(function(A){for(;0<E.length;){var H=E.pop();H.wrapper.replaceWith(H.child)}return A}).then(function(A){return D.impl.urlCache=[],we&&(document.body.removeChild(we),we=null),Z&&clearTimeout(Z),Z=setTimeout(()=>{Z=null,Ve={}},2e4),A})}function Xe(d,o){return ht(d,o=o||{}).then(m.makeImage).then(function(E){var A=typeof o.scale!="number"?1:o.scale,H=((r,u)=>{let h=o.width||m.width(r),p=o.height||m.height(r);return m.isDimensionMissing(h)&&(h=m.isDimensionMissing(p)?300:2*p),m.isDimensionMissing(p)&&(p=h/2),(r=document.createElement("canvas")).width=h*u,r.height=p*u,o.bgcolor&&((u=r.getContext("2d")).fillStyle=o.bgcolor,u.fillRect(0,0,r.width,r.height)),r})(d,A),g=H.getContext("2d");return g.msImageSmoothingEnabled=!1,g.imageSmoothingEnabled=!1,E&&(g.scale(A,A),g.drawImage(E,0,0)),H})}let we=null;function Mt(d){return Ee.resolveAll().then(function(o){var E;return o!==""&&(E=document.createElement("style"),d.appendChild(E),E.appendChild(document.createTextNode(o))),d})}function Nt(d){return bt.inlineAll(d).then(function(){return d})}function gt(d,o,E,A,H){let g=D.impl.options.copyDefaultStyles?((u,h)=>{var p,L=(P=>(u.styleCaching!=="relaxed"?P:P.filter((K,M,c)=>M===0||M===c.length-1)).join(">"))(h=(P=>{var K=[];do if(P.nodeType===at){var M=P.tagName;if(K.push(M),Bt.includes(M))break}while(P=P.parentNode);return K})(h));{if(Ve[L])return Ve[L];h=((P,K)=>{let M=P.body;do{var c=K.pop(),c=P.createElement(c);M.appendChild(c),M=c}while(0<K.length);return M.textContent="​",M})((p=(()=>{if(we)return we.contentWindow;K=document.characterSet||"UTF-8",P=(P=document.doctype)?(`<!DOCTYPE ${We(P.name)} ${We(P.publicId)} `+We(P.systemId)).trim()+">":"",(we=document.createElement("iframe")).id="domtoimage-sandbox-"+m.uid(),we.style.top="-9999px",we.style.visibility="hidden",we.style.position="fixed",document.body.appendChild(we);var P,K,M=we,c="domtoimage-sandbox";try{return M.contentWindow.document.write(P+`<html><head><meta charset='${K}'><title>${c}</title></head><body></body></html>`),M.contentWindow}catch{}var W=document.createElement("meta");W.setAttribute("charset",K);try{var Te=document.implementation.createHTMLDocument(c),$e=(Te.head.appendChild(W),P+Te.documentElement.outerHTML);return M.setAttribute("srcdoc",$e),M.contentWindow}catch{}return M.contentDocument.head.appendChild(W),M.contentDocument.title=c,M.contentWindow;function We(Be){var pe;return Be?((pe=document.createElement("div")).innerText=Be,pe.innerHTML):""}})()).document,h),p=((P,K)=>{let M={},c=P.getComputedStyle(K);return m.asArray(c).forEach(function(W){M[W]=W==="width"||W==="height"?"auto":c.getPropertyValue(W)}),M})(p,h);var U=h;do{var ae=U.parentElement;ae!==null&&ae.removeChild(U),U=ae}while(U&&U.tagName!=="BODY");return Ve[L]=p}})(d,o):{},r=H.style;m.asArray(E).forEach(function(u){var h,p,L,U;d.filterStyles&&!d.filterStyles(o,u)||(p=E.getPropertyValue(u),L=g[u],h=A?A.getPropertyValue(u):void 0,r.getPropertyValue(u))||(p!==L||A&&p!==h)&&(L=E.getPropertyPriority(u),h=r,p=p,L=L,U=0<=["background-clip"].indexOf(u=u),L?(h.setProperty(u,p,L),U&&h.setProperty("-webkit-"+u,p,L)):(h.setProperty(u,p),U&&h.setProperty("-webkit-"+u,p)))})}let Z=null,Ve={},Bt=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"]})(Mi)})(Lt)),Lt.exports}var Bi=Ni();const Oi=Ii(Bi);var Ri=G('<button><img class="svelte-62apfn"/></button>'),Fi=G('<button><img class="svelte-62apfn"/></button>'),Di=G('<img class="svelte-62apfn"/>'),Hi=G('<button><img class="mut-icon svelte-62apfn"/> <div class="mut-meta svelte-62apfn"><div class="name svelte-62apfn"> </div> <div class="genes svelte-62apfn"></div></div> <div class="rar svelte-62apfn"> </div></button>'),$i=G('<aside class="catalog svelte-62apfn"><div class="filters-row svelte-62apfn"><button><span>Ген 1: ВСЕ</span></button> <!></div> <div><button><span>Ген 2: ВСЕ</span></button> <button title="Нейтральный"><img src="/genes/gene_all.webp" alt="Нейтральный" class="svelte-62apfn"/></button> <!></div> <input class="search svelte-62apfn" type="text" placeholder="Введите имя мутанта"/> <div class="list svelte-62apfn"></div></aside>'),Wi=En('<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',1),zi=En('<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',1),Gi=G("<span>Сохраняем...</span>"),Ui=G("<span>Сделать скриншот</span>"),Vi=G('<img class="svelte-62apfn"/>'),ji=G('<img class="orb svelte-62apfn"/>'),qi=G('<button class="x svelte-62apfn" title="убрать">×</button>'),Ki=G('<button class="orb-row svelte-62apfn"><img class="svelte-62apfn"/> <span> </span></button>'),Yi=G('<div class="dropdown svelte-62apfn"></div>'),Ji=G('<div class="slot svelte-62apfn"><button class="slot-btn svelte-62apfn"><img class="slot-bg svelte-62apfn" src="/orbs/basic/orb_slot.webp" alt="slot"/> <!></button> <!> <!></div>'),Xi=G('<img class="orb svelte-62apfn"/>'),Qi=G('<button class="x svelte-62apfn" title="убрать">×</button>'),Zi=G('<button class="orb-row svelte-62apfn"><img class="svelte-62apfn"/> <span> </span></button>'),er=G('<div class="dropdown svelte-62apfn"></div>'),tr=G('<button><img alt="*" class="svelte-62apfn"/></button>'),nr=G('<img class="label-icon type-icon svelte-62apfn" alt="Тип"/>'),ir=G('<img class="gene-icon svelte-62apfn" alt="" aria-hidden="true"/>'),rr=G('<img class="attack-aoe svelte-62apfn" src="/genes/atk_multiple.webp" alt="АОЕ"/>'),ar=G('<img class="ability-icon svelte-62apfn"/>'),sr=G('<span class="effect-percent svelte-62apfn"> </span>'),or=G('<div class="effect-row svelte-62apfn"><!> <span class="effect-name svelte-62apfn"> <!></span> <span class="effect-value svelte-62apfn"> </span></div>'),lr=G('<span class="effect-empty svelte-62apfn">—</span>'),cr=G('<div class="row attack-row svelte-62apfn"><div class="attack-side svelte-62apfn"><span><!> <!></span> <div class="attack-info svelte-62apfn"><span class="attack-label svelte-62apfn"> </span> <span class="attack-damage svelte-62apfn"> </span></div></div> <span aria-hidden="true"></span> <div class="effect-side svelte-62apfn"><!></div></div>'),pr=G('<div class="panel-header svelte-62apfn"><div class="header-left svelte-62apfn"><button class="tool-btn svelte-62apfn"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><!></svg></button></div> <header class="title svelte-62apfn"> </header></div> <div class="header-tools-row svelte-62apfn"><button class="tool-btn share-btn svelte-62apfn" title="Сохранить как картинку"><!></button></div> <div class="hero-section svelte-62apfn"><div class="hero-genes svelte-62apfn"></div> <div class="mut-figure svelte-62apfn"><img class="texture svelte-62apfn"/></div> <div class="hero-controls svelte-62apfn"><div class="slots svelte-62apfn"><!> <div class="slot svelte-62apfn"><button class="slot-btn svelte-62apfn"><img class="slot-bg svelte-62apfn" src="/orbs/special/orb_slot_spe.webp" alt="special"/> <!></button> <!> <!></div></div> <div class="controls svelte-62apfn"><div class="control svelte-62apfn"><span class="control-label svelte-62apfn">Уровень:</span> <input class="lvl svelte-62apfn" type="number" min="1" max="500"/></div> <div class="control svelte-62apfn"><span class="control-label svelte-62apfn">Звёздность:</span> <div class="stars svelte-62apfn"></div></div></div></div> <div class="stats svelte-62apfn"><div class="row svelte-62apfn"><span class="label svelte-62apfn"><!> Тип</span> <b class="svelte-62apfn"> </b></div> <div class="row svelte-62apfn"><span class="label svelte-62apfn">Тир</span><b class="svelte-62apfn"> </b></div> <div class="row svelte-62apfn"><span class="label svelte-62apfn"><img class="label-icon svelte-62apfn" alt="HP"/> HP</span> <b class="svelte-62apfn"> </b></div> <!> <div class="row svelte-62apfn"><span class="label svelte-62apfn"><img class="label-icon svelte-62apfn" alt="Скорость"/> Скорость</span> <b class="svelte-62apfn"> </b></div> <div class="row svelte-62apfn"><span class="label svelte-62apfn"><img class="label-icon svelte-62apfn" src="/cash/softcurrency.webp" alt="Серебро"/> Серебро</span> <b class="svelte-62apfn"> </b></div></div></div>',1),dr=G('<div><!> <section class="panel svelte-62apfn"><!></section></div>');function kr(ne,rt){hi(rt,!1);const Se=te(),m=te(),Ce={A:"Кибер",B:"Зверь",C:"Галактик",D:"Зомби",E:"Мифик",F:"Рубака"},Ee={"":"/genes/gene_all.webp",A:"/genes/gene_a.webp",B:"/genes/gene_b.webp",C:"/genes/gene_c.webp",D:"/genes/gene_d.webp",E:"/genes/gene_e.webp",F:"/genes/gene_f.webp"},mt={a:"/genes/gene_a.webp",b:"/genes/gene_b.webp",c:"/genes/gene_c.webp",d:"/genes/gene_d.webp",e:"/genes/gene_e.webp",f:"/genes/gene_f.webp",neutro:"/genes/gene_all.webp",neutral:"/genes/gene_all.webp",none:"/genes/gene_all.webp",all:"/genes/gene_all.webp"},bt=["normal","bronze","silver","gold","platinum"],vt={0:"/stars/no_stars.webp",1:"/stars/star_bronze.webp",2:"/stars/star_silver.webp",3:"/stars/star_gold.webp",4:"/stars/star_platinum.webp"},Pe={normal:["_normal","normal"],bronze:["_bronze","bronze"],silver:["_silver","silver"],gold:["_gold","gold"],platinum:["_platinum","_plat","platinum","plat"]},D={hp:"/etc/icon_hp.webp",atk:"/etc/icon_atk.webp",speed:"/etc/icon_speed.webp"},at={default:"/mut_icons/icon_special.webp",special:"/mut_icons/icon_special.webp",heroic:"/mut_icons/icon_heroic.webp",legend:"/mut_icons/icon_legendary.webp",legendary:"/mut_icons/icon_legendary.webp",gacha:"/mut_icons/icon_gacha.webp",pvp:"/mut_icons/icon_pvp.webp",seasonal:"/mut_icons/icon_seasonal.webp",recipe:"/mut_icons/icon_recipe.webp",videogame:"/mut_icons/icon_videogame.webp",video_game:"/mut_icons/icon_videogame.webp",morphology:"/mut_icons/icon_morphology.webp",zodiac:"/mut_icons/icon_zodiac.webp",limited:"/mut_icons/limited.webp",community:"/mut_icons/icon_special.webp"},st=1,It=Ci;function ht(e){return e.map(n=>{const i=we(n),l=(Array.isArray(n.genes)?n.genes:[n.genes]).filter(Boolean).flatMap(Ct=>String(Ct||"").toUpperCase().split("")).filter(Boolean),a=l.join(""),y=Object.values(n.stars??{}),k=n.stars?.normal?.images??(y[0]?y[0].images:void 0),Q=gt(n.image?.length?n.image:k),B=n.base_stats||{},se=B.lvl1||{},R=B.lvl30||{},V=Z(B.hp_base,Z(se.hp,0)),j=Z(B.atk1_base,Z(se.atk1,0)),T=Z(B.atk1p_base,Z(R.atk1,j)),f=Z(B.atk2_base,Z(se.atk2,0)),O=Z(B.atk2p_base,Z(R.atk2,f)),J=Z(B.speed_base,Z(R.spd,Z(se.spd,n.speed))),z=Z(B.bank_base,0),Fe=Z(B.abilityPct1,0),he=Z(B.abilityPct2,0),ke=Ve(n,"type")??n.type??"",ce=Ve(n,"tier")??n.tier??"",de=String(ke||"").trim(),xe=de.toLowerCase(),Ke=Mt(ke),Dt=Nt(ce),St=Xe(xe),Ye=new Set,et=n.stars??{};et.normal&&Ye.add(0),et.bronze&&Ye.add(1),et.silver&&Ye.add(2),et.gold&&Ye.add(3),et.platinum&&Ye.add(4);const Ht={0:1,1:1.1,2:1.3,3:1.75,4:2};return{id:i,baseId:i,name:n.name,type:ke,typeKey:de,typeLabel:Ke,tier:ce,tierLabel:Dt,genes:l,geneKey:a,images:Q,hpBase:V,atk1Base:j,atk1PlusBase:T,atk2Base:f,atk2PlusBase:O,speed:J,bankBase:z,abilityPct1:Fe,abilityPct2:he,abilities:r(n),starMultipliers:Ht,availableStars:Ye,basicSlotCount:St,specialSlotCount:st,attackMeta:Bt(n),_rawStars:n.stars??{}}})}function Xe(e){const n=String(e||"").trim().toLowerCase();return n==="default"?1:n==="heroic"?3:2}function we(e){return String(e?.id??e?.slug??e?.specimen??e?.name??"").trim().replace(/_(bronze|silver|gold|platinum)$/i,"").replace(/_plat$/i,"")}function Mt(e){const n=String(e||"").trim();return n?wi[n]||W(n):"—"}function Nt(e){const n=String(e||"").trim();return n?W(n):"—"}function gt(e){return(Array.isArray(e)?e:[e]).map(i=>{const s=String(i||"").trim();return s?`/${s.replace(/^\/+/,"")}`:""}).filter(Boolean)}function Z(e,n){const i=Number(e);return Number.isFinite(i)?i:n??0}function Ve(e,n){return e.tags&&Array.isArray(e.tags)?e.tags.find(s=>s.key===n)?.value??null:e[n]??null}function Bt(e){const n=e?.base_stats??{},i=n?.lvl1??{},s=n?.lvl30??{},l={};for(const a of[1,2]){const y=d(e?.[`atk${a}_gene`],n?.[`atk${a}_gene`],s?.[`atk${a}_gene`],i?.[`atk${a}_gene`]),k=d(n?.[`atk${a}_AOE`],s?.[`atk${a}_AOE`],i?.[`atk${a}_AOE`]),Q=d(e?.[`name_attack${a}`],n?.[`atk${a}_name`],s?.[`atk${a}_name`],i?.[`atk${a}_name`]),B=o(y);l[a]={gene:B,geneIcon:E(B),isAoe:H(k),label:A(a,Q)}}return l}function d(...e){for(const n of e)if(n!=null&&!(typeof n=="string"&&n.trim()===""))return n;return null}function o(e){const n=String(e??"").trim();if(!n)return"";const i=n.toLowerCase();return i==="neutral"||i==="none"||i==="all"?"neutro":i}function E(e){const n=o(e);return n&&mt[n]||""}function A(e,n){const i=String(n??"").trim();return i||`Атака ${e}`}function H(e){if(typeof e=="string"){const n=e.trim().toLowerCase();return!(!n||["false","no","0"].includes(n))}return!!e}function g(e){const n=e?.abilities??Ve(e,"abilities")??[];return Array.isArray(n)?n:typeof n=="string"?n.split(/[;,]/):[]}function r(e){return g(e).map(n=>u(n)).filter(Boolean)}function u(e){if(!e)return null;if(typeof e=="string"){const n=L(e);return n?{code:n,label:U(n),baseCode:p(n),tier:h(n),pct:null,hasAtk1:!0,hasAtk2:!0,raw:null}:null}if(typeof e=="object"){const n=L(e.name??e.id??e.code??"");if(!n)return null;const i=c(e.pct??e.percent??e.percentage??e.value);let s=K(e,"atk1"),l=K(e,"atk2");return n.includes("retaliate")&&(l=!1),{code:n,label:U(n),baseCode:p(n),tier:h(n),pct:i,hasAtk1:s,hasAtk2:l,raw:e}}return null}function h(e){const n=String(e||"").toLowerCase();return n?n.endsWith("_plus_plus")?2:n.endsWith("_plus")?1:0:0}function p(e){return String(e||"").toLowerCase().replace(/_plus_plus$/i,"").replace(/_plus$/i,"")}function L(e){const n=String(e||"").trim();if(!n)return"";const i=n.match(/^([a-zA-Z0-9_]+)/);return(i?i[1]:n).toLowerCase()}function U(e){if(!e)return"—";const n=Sn[e]||Sn[e.toLowerCase()]||W(e),i=e.toLowerCase();return i.endsWith("_plus_plus")?`${n} ++`:i.endsWith("_plus")?`${n} +`:n}function ae(e){const n=String(e||"").trim().toLowerCase().split("#")[0];return n?p(n):""}function P(e){const n=String(e||"").trim().toLowerCase();return n?n.includes("regenerate")?"ability_regen":n.includes("retaliate")?"ability_retaliate":n.includes("shield")?"ability_shield":n.includes("slash")?"ability_slash":n.includes("strengthen")?"ability_strengthen":n.includes("weaken")?"ability_weaken":"":""}function K(e,n){const i=String(n||"").toLowerCase();return i==="atk1"?M(e,"value_atk1")||M(e,"atk1"):i==="atk2"?M(e,"value_atk2")||M(e,"atk2"):!0}function M(e,n){return!e||typeof e!="object"?!1:Object.keys(e).some(s=>s.toLowerCase().startsWith(String(n).toLowerCase())&&e[s]!=null&&e[s]!=="")}function c(e){const n=Number(e);return Number.isFinite(n)?n:null}function W(e){const n=String(e||"").trim();return n?n.replace(/[_-]+/g," ").replace(/\s+/g," ").trim().replace(/\b\w/g,i=>i.toUpperCase()):"—"}const Te=$e(Ei);function $e(e){const n=Array.isArray(e)?e:[],i=[],s=[];for(const l of n){if(We(l))continue;const a=String(l.id||"").trim();if((a.endsWith("attack")||a.endsWith("attack_01")||a.endsWith("attack_02")||a.endsWith("life")||a.endsWith("life_01")||a.endsWith("life_02")||a.endsWith("speed")||a.endsWith("speed_01")||a.endsWith("speed_02")||a.includes("critical")||a.includes("regenerate")||a.includes("retaliate")||a.includes("shield")||a.includes("slash")||a.includes("strengthen")||a.includes("weaken"))&&!a.includes("_03")&&!a.includes("_04")&&!a.includes("_05")&&!a.includes("_06")&&!a.includes("_07")&&(a.match(/(_01|_02)$/)||!a.match(/_\d+$/)))continue;const y=Be(l);y&&(y.category==="special"?s.push(y):i.push(y))}return{basic:i,special:s}}function We(e){const n=String(e?.id||"").toLowerCase();return n?n.includes("ephemeral")||n.includes("temporary"):!1}function Be(e){if(!e)return null;const n=String(e.id||"").trim();if(!n)return null;const i=n.startsWith("orb_special")?"special":"basic",s=Number(e.percent??e.pct??e.percentage??0),l=be(n,s),a=pe(n,s,l);return{...e,...a,percent:s,category:i,icon:`/orbs/${i}/${n}.webp`,type:i,specialAbility:l}}function pe(e,n,i=null){const s=Number.isFinite(n)?n:0,l=Math.abs(s),a=e.toLowerCase();if(a.includes("attack"))return{atkPct:s};if(a.includes("health")||a.includes("_hp")||a.includes("life"))return{hpPct:s};if(a.includes("speed"))return{speedPct:s};if(!i){const y=P(e);if(y){const k=p(y);return{abilityPct:l,abilityCode:y,abilityBaseCode:k,abilityLabel:U(y)}}}return{}}function be(e,n){const i=String(e||"").toLowerCase().match(/^orb_special_add([a-z_]+)/);if(!i)return null;const s=i[1],l=Le(s);if(!l)return null;const a=c(n);if(!Number.isFinite(a))return null;const y=p(l),k=U(l),Q=!0,B=!y.includes("retaliate");return{code:l,label:k,baseCode:y,tier:0,pct:a,hasAtk1:Q,hasAtk2:B,raw:{source:"special-orb",id:e}}}function Le(e){const n=String(e||"").trim().toLowerCase();return n?n.startsWith("regenerate")?"ability_regen":n.startsWith("retaliate")?"ability_retaliate":n.startsWith("shield")?"ability_shield":n.startsWith("slash")?"ability_slash":n.startsWith("strengthen")?"ability_strengthen":n.startsWith("weaken")?"ability_weaken":"":""}const Y=ht(Si);let N=te(""),X=te(""),ie=te(""),C=te(Y[0]),ze=te(30),Oe=te(0),ve=te([]),le=te(null),Qe=te({hpPct:0,atk1Pct:0,atk2Pct:0,speedPct:0,abilityBonus:{}}),yt=te([]),wt=te([]),Ze=te(""),je=te(new Set),kt=te(Te.basic),ot=te(!0),qe=te(!1),xt=te(null),Re=te(null),Ot=te(null);function Pn(e,n){return e?Ln(e,n)||Zt(e):""}function Zt(e){return e?dt(e.images,["specimen","icon","portrait","head"]):""}function Tn(e){return Zt(e)||tn(e.images)}function Ln(e,n){if(!e)return"";const i=bt[n]??"normal",s=e._rawStars?.[i];if(s?.images?.length){const a=gt(s.images),y=dt(a,["textures_by_mutant/"])||a[0];if(y)return y}if(i==="normal")return en(e);const l=Pe[i]||[i];return dt(e.images,l)||en(e)}function en(e){return e?dt(e.images,Pe.normal)||dt(e.images,["normal","default","full"])||tn(e.images):""}function tn(e,n=null){const i=Array.isArray(e)?e:[];if(!i.length)return"";if(n){const s=Array.isArray(n)?n:[n];for(const l of s){const a=String(l||"").toLowerCase(),y=i.find(k=>k&&k.toLowerCase().includes(a));if(y)return y}}return i[0]}function dt(e,n){const i=Array.isArray(e)?e:[],s=Array.isArray(n)?n:[];for(const l of s){const a=String(l||"").toLowerCase(),y=i.find(k=>k&&k.toLowerCase().includes(a));if(y)return y}return""}function In(e){const n=String(e||"").trim();if(!n)return"";const i=n.toLowerCase();return at[i]?at[i]:`/mut_icons/icon_${i}.webp`}function Mn(e){const n=String(e||"").trim().toLowerCase();if(!n)return"";const i=n.replace(/_plus_plus$/i,"").replace(/_plus$/i,"");return i==="ability_regen"?"/ability/ability_regenerate.webp":`/ability/${i}.webp`}function Nn(e,n){const i={hpPct:0,atk1Pct:0,atk2Pct:0,speedPct:0,abilityBonus:{}},s=Array.isArray(e)?e.filter(Boolean):[],l=n?[...s,n]:[...s];for(const a of l){if(!a)continue;const y=c(a.hpPct??a.hp_percent??a.hp??a.healthPct??a.health);y&&(i.hpPct+=y);const k=c(a.atkPct??a.attackPct??a.atk??a.attack);k&&(i.atk1Pct+=k,i.atk2Pct+=k);const Q=c(a.atk1Pct??a.attack1Pct??a.attack_1);Q&&(i.atk1Pct+=Q);const B=c(a.atk2Pct??a.attack2Pct??a.attack_2);B&&(i.atk2Pct+=B);const se=c(a.speedPct??a.spdPct??a.speed??a.spd);se&&(i.speedPct+=se);const R=c(a.abilityPct??a.ability??a.skillPct??a.skills);if(R){const V=ae(a.abilityBaseCode||a.abilityCode);V?i.abilityBonus[V]=(i.abilityBonus[V]||0)+R:i.abilityBonus.__all=(i.abilityBonus.__all||0)+R}}return i}function Bn(e,n){return e?.starMultipliers?.[n]??1}function On(e,n,i,s){const l=Bn(e,i),a={hp_base:e.hpBase,atk1_base:e.atk1Base,atk1p_base:e.atk1PlusBase,atk2_base:e.atk2Base,atk2p_base:e.atk2PlusBase,speed_base:e.speed,bank_base:e.bankBase,abilityPct1:e.abilityPct1,abilityPct2:e.abilityPct2},y=xi(a,n,l);let k={...y};return s&&(s.hpPct&&(k.hp=Math.round(y.hp*(1+s.hpPct/100))),s.atk1Pct&&(k.atk1=Math.round(y.atk1*(1+s.atk1Pct/100))),s.atk2Pct&&(k.atk2=Math.round(y.atk2*(1+s.atk2Pct/100))),s.speedPct&&(k.speed=Li(y.speed,s.speedPct))),{hp:k.hp,atk1:k.atk1,atk2:k.atk2,speed:k.speed,bank:k.silver}}function Rn(e,n,i){return e?[1,2].map(l=>{const a=e?.attackMeta?.[l]??{},y=Number(n?.[`atk${l}`]??0),k=[];Array.isArray(i)&&i.forEach(R=>{if(!R)return;const V=Array.isArray(R.values)?R.values.find(j=>j?.attack===l):null;V&&k.push({label:R.label,percent:R.percent,value:V.value,icon:R.icon||""})});const Q=a.geneIcon||"",B=!!a.isAoe,se=a.label||`Атака ${l}`;return{attack:l,label:se,geneIcon:Q,isAoe:B,damage:y,effects:k}}).filter(l=>l.label||l.damage||l.effects.length):[]}function Fn(e,n,i,s,l){const y=[...Array.isArray(e?.abilities)?e.abilities:[]],k=Dn(l);if(k&&y.push(k),!y.length)return[];const Q=Number(s)||1,B=[],se=i?.abilityBonus??{},R={1:n?.atk1??0,2:n?.atk2??0},V=new Map;for(const j of y){if(!j)continue;const T=j.baseCode||j.code;V.has(T)||V.set(T,[]),V.get(T).push(j)}for(const[,j]of V){if(!j.length)continue;const T=[...j].sort((ce,de)=>(ce.tier??0)-(de.tier??0)),f=Q>=25?T[T.length-1]:T[0];let O=0;if(f.raw?.source==="special-orb"?O=c(f.pct):O=Q<25?e.abilityPct1||0:e.abilityPct2||0,!Number.isFinite(O))continue;const J=ae(f.baseCode||f.code),z=Math.abs(se[J]??se.__all??0),Fe=O>=0?O+z:-(Math.abs(O)+z),he=[],ke=f.code.toLowerCase().includes("retaliate");if(f.hasAtk1){const ce=e?.attackMeta?.[1]??{},de=Math.floor(Math.abs((R[1]||0)*Fe/100));he.push({attack:1,value:de,label:ce.label??"Атака 1",geneIcon:ce.geneIcon||"",isAoe:!!ce.isAoe,attackPower:Math.floor(Math.abs(R[1]||0))})}if(f.hasAtk2){const ce=e?.attackMeta?.[2]??{},de=ke?0:Math.floor(Math.abs((R[2]||0)*Fe/100));(de||f.hasAtk1===!1||!he.length||ke)&&he.push({attack:2,value:de,label:ce.label??"Атака 2",geneIcon:ce.geneIcon||"",isAoe:!!ce.isAoe,attackPower:Math.floor(Math.abs(R[2]||0))})}he.length&&B.push({code:f.code,label:f.label,values:he,icon:Mn(f.code),percent:Math.abs(Fe)})}return B}function Dn(e){if(!e||!e.specialAbility)return null;const n=e.specialAbility;return{...n,code:n.code,label:n.label,baseCode:n.baseCode,tier:n.tier??0,pct:n.pct,hasAtk1:n.hasAtk1!==!1,hasAtk2:n.hasAtk2!==!1,raw:n.raw??{source:"special-orb",id:e.id}}}function Hn(e,n){const i=new Set,s=Array.isArray(e?.abilities)?e.abilities:[];for(const a of s){const y=ae(a?.baseCode||a?.code);y&&i.add(y)}const l=n?.specialAbility;if(l){const a=ae(l.baseCode||l.code);a&&i.add(a)}return i}function Rt(e,n){if(!e)return!0;const i=ae(e.abilityBaseCode||e.abilityCode);return i?!(n instanceof Set)||!n.size?!1:n.has(i):!0}function $n(e,n){return(Array.isArray(e)?e:[]).filter(s=>Rt(s,n))}function Wn(e,n){if(e===n)return!0;if(!Array.isArray(e)||!Array.isArray(n)||e.length!==n.length)return!1;for(let i=0;i<e.length;i+=1)if(e[i]!==n[i])return!1;return!0}function zn(e){if(!Number.isFinite(e))return"—";const n=Math.abs(e),i=Math.round(n*100)!==Math.round(n)*100;return Number(e).toLocaleString("ru-RU",{minimumFractionDigits:i?2:0,maximumFractionDigits:2})}function nn(e){e==="all"?(I(X,""),I(ie,"")):I(X,t(X)===e?"":e)}function Ft(e){e==="all"?I(ie,""):I(ie,t(ie)===e?"":e)}function Gn(e){I(C,e)}function Un(e,n){const i=Rt(n,t(je))?n:null;I(ve,t(ve).map((s,l)=>l===e?i:s)),I(Re,null)}function Vn(e){I(le,e),I(Re,null)}function rn(e,n=null){e==="basic"?I(ve,t(ve).map((i,s)=>s===n?null:i)):I(le,null)}function jn(e){t(Re)&&t(xt)&&(t(xt).contains(e.target)||I(Re,null))}function qn(){I(ot,!t(ot))}function an(e){document.querySelectorAll(".notification-toast").forEach(s=>s.remove());const i=document.createElement("div");i.className="notification-toast",i.textContent=e,Object.assign(i.style,{position:"fixed",top:"20px",right:"20px",backgroundColor:"#22c55e",color:"white",padding:"12px 20px",borderRadius:"8px",zIndex:"9999",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",fontWeight:"600",fontSize:"14px",maxWidth:"300px",wordWrap:"break-word",animation:"slideInRight 0.3s ease-out"}),document.body.appendChild(i),setTimeout(()=>{i.parentNode&&(i.style.animation="fadeOut 0.5s ease-out",setTimeout(()=>{i.parentNode&&i.remove()},500))},3e3)}async function Kn(){if(!t(C)||t(qe))return;const e=document.querySelector(".panel");if(e){I(qe,!0);try{const n=window.innerWidth<768,i=n?{sandboxWidth:420,mutantTexture:"200px",mutantFigureHeight:"240px",mutantFigureAfterWidth:"240px",mutantFigureAfterHeight:"65px",mutantFigureAfterBottom:"-28px",heroGene:"40px",attackGeneContainer:"42px",attackGeneIcon:"28px",attackAoe:"36px",slotBtn:"56px",orb:"56px",star:"28px",mutIcon:"36px",shadowScale:.85}:{sandboxWidth:700,mutantTexture:"340px",mutantFigureHeight:"380px",mutantFigureAfterWidth:"380px",mutantFigureAfterHeight:"110px",mutantFigureAfterBottom:"-45px",heroGene:"56px",attackGeneContainer:"52px",attackGeneIcon:"44px",attackAoe:"64px",slotBtn:"68px",orb:"68px",star:"32px",mutIcon:"44px",shadowScale:1},s=document.createElement("div");s.style.width=`${i.sandboxWidth}px`,s.style.height="auto",s.style.position="fixed",s.style.left="-9999px",s.style.top="0",s.style.zIndex="-100",s.style.background="#2a313c",s.style.borderRadius="16px",s.style.padding="0";const l=e.cloneNode(!0);l.style.width="100%",l.style.maxWidth="none",l.style.margin="0",l.style.transform="none",l.style.border="none",l.style.outline="none",l.style.boxShadow="none",l.style.borderRadius="0",l.querySelectorAll(".tool-btn").forEach(f=>f.remove()),l.querySelectorAll(".header-tools-row").forEach(f=>f.remove());const a=l.querySelector("input.lvl");if(a){const f=a.value,O=document.createElement("div");O.className="lvl-static",O.innerText=f,a.parentNode&&a.parentNode.replaceChild(O,a)}const y=l.querySelector(".title");y&&(y.style.textAlign="center",y.style.width="100%",y.style.margin="0 0 15px 0",y.style.flex="none",y.style.maxWidth="none");const k=(f,O,J)=>{l.querySelectorAll(f).forEach(z=>{z.style.width=O,z.style.height=J,z.style.minWidth=O,z.style.minHeight=J,z.style.maxWidth=O,z.style.maxHeight=J,z.style.flex=`0 0 ${O}`,z.style.objectFit="contain"})};if(k(".slot-btn",i.slotBtn,i.slotBtn),k(".orb",i.orb,i.orb),k(".star",i.star,i.star),k(".star img",i.star,i.star),k(".mut-icon",i.mutIcon,i.mutIcon),k(".mut-figure .texture",i.mutantTexture,i.mutantTexture),k(".hero-genes img",i.heroGene,i.heroGene),k(".attack-gene",i.attackGeneContainer,i.attackGeneContainer),k(".attack-gene .gene-icon",i.attackGeneIcon,i.attackGeneIcon),k(".attack-gene .attack-aoe",i.attackAoe,i.attackAoe),l.querySelectorAll(".mut-figure").forEach(f=>{f.style.height=i.mutantFigureHeight,f.style.minHeight=i.mutantFigureHeight}),n){const f=l.querySelector(".mut-figure .texture");f&&(f.style.marginTop="18px")}const Q=document.createElement("style");Q.textContent=`
        .mut-figure::after {
          width: ${i.mutantFigureAfterWidth} !important;
          height: ${i.mutantFigureAfterHeight} !important;
          bottom: ${i.mutantFigureAfterBottom} !important;
        }
        /* Фикс для attack-side на мобильных - предотвращаем сжатие */
        .attack-side {
          min-width: ${n?"140px":"180px"} !important;
        }
        /* Фикс для attack-info - разрешаем перенос текста */
        .attack-info {
          min-width: 0 !important;
          flex-shrink: 1 !important;
        }
        .attack-label {
          max-width: ${n?"120px":"200px"};
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }
      `,l.appendChild(Q),l.querySelectorAll("*").forEach(f=>{["row","lvl-static","gene-chip","control","search","mut-row"].some(z=>f.classList.contains(z))||(f.style.border="none",f.style.outline="none",f.style.boxShadow="none")});const B=document.createElement("div");B.innerText="archivist-library.com",B.style.border="none",Object.assign(B.style,{display:"block",textAlign:"center",fontSize:"14px",color:"#637083",marginTop:"25px",paddingTop:"15px",paddingBottom:"20px",borderTop:"1px solid #3a475a",fontWeight:"700",textTransform:"uppercase",letterSpacing:"2px",fontFamily:"sans-serif"}),l.appendChild(B),s.appendChild(l),document.body.appendChild(s),await new Promise(f=>setTimeout(f,150));const se=await Oi.toPng(s,{width:i.sandboxWidth,height:s.offsetHeight,bgcolor:"#2a313c",style:{transform:"scale(1)",transformOrigin:"top left"},quality:1}),R=new Image;R.src=se,await new Promise(f=>R.onload=f);const V=document.createElement("canvas"),j=V.getContext("2d"),T=3;V.width=R.width-T*2,V.height=R.height-T*2,j.drawImage(R,-T,-T),V.toBlob(async f=>{if(!f){I(qe,!1);return}try{const O=new ClipboardItem({"image/png":f});await navigator.clipboard.write([O]),an("Скриншот сохранен в буфер обмена!"),setTimeout(()=>I(qe,!1),2e3)}catch{const J=URL.createObjectURL(f),z=document.createElement("a");z.href=J,z.download=`${t(C).name||"mutant"}-stats.webp`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(J),an("Скриншот загружен!"),I(qe,!1)}document.body.removeChild(s)},"image/png")}catch{I(qe,!1);const i=document.querySelector('div[style*="fixed"][style*="-9999px"]');i&&i.remove()}}}Ie(()=>t(X),()=>{t(X)||I(ie,"")}),Ie(()=>(t(X),t(N),t(ie)),()=>{I(Se,Y.filter(e=>{if(!t(X)){if(t(N).trim()){const i=pt(t(N));if(!pt(e.name).includes(i))return!1}return!0}if(e.genes[0]!==t(X))return!1;if(!t(ie)){if(t(N).trim()){const i=pt(t(N));if(!pt(e.name).includes(i))return!1}return!0}if(t(ie)==="neutral"){if(e.genes.length!==1)return!1}else if(e.genes.length<2||e.genes[1]!==t(ie))return!1;if(t(N).trim()){const i=pt(t(N));if(!pt(e.name).includes(i))return!1}return!0}).sort(It))}),Ie(()=>(t(C),t(Ot)),()=>{if(t(C)&&t(C).id!==t(Ot)){const e=Number.isFinite(t(C).basicSlotCount)?t(C).basicSlotCount:3;I(ve,Array(e).fill(null)),I(le,null);const n=Array.from(t(C).availableStars);n.length>0&&(I(Oe,Math.max(...n)),I(Ot,t(C).id))}}),Ie(()=>(t(C),t(le)),()=>{I(je,Hn(t(C),t(le)))}),Ie(()=>t(je),()=>{I(kt,$n(Te.basic,t(je)))}),Ie(()=>(t(ve),t(je)),()=>{if(Array.isArray(t(ve))){const e=t(ve).map(n=>Rt(n,t(je))?n:null);Wn(e,t(ve))||I(ve,e)}}),Ie(()=>(t(ve),t(le)),()=>{I(Qe,Nn(t(ve),t(le)))}),Ie(()=>(t(C),t(ze),t(Oe),t(Qe)),()=>{I(m,t(C)?On(t(C),t(ze),t(Oe),t(Qe)):{hp:0,atk1:0,atk2:0,speed:0,bank:0})}),Ie(()=>(t(C),t(m),t(Qe),t(ze),t(le)),()=>{I(yt,t(C)?Fn(t(C),t(m),t(Qe),t(ze),t(le)):[])}),Ie(()=>(t(C),t(m),t(yt)),()=>{I(wt,Rn(t(C),t(m),t(yt)))}),Ie(()=>t(C),()=>{I(Ze,t(C)?In(t(C).typeKey||t(C).type):"")}),bi(),Ai();var At=dr();oe("click",gi,jn);let sn;var on=v(At);{var Yn=e=>{var n=$i(),i=v(n),s=v(i),l=S(s,2);Me(l,0,()=>["A","B","C","D","E","F"],Je,(j,T)=>{var f=Ri();let O;var J=v(f);_(f),re(()=>{O=Ne(f,1,"gene-chip svelte-62apfn",null,O,{active:t(X)===T}),F(f,"title",x(()=>Ce[T])),F(J,"src",x(()=>Ee[T]||Ee[""])),F(J,"alt",T)}),oe("click",f,()=>nn(T)),$(j,f)}),_(i);var a=S(i,2);let y;var k=v(a),Q=S(k,2);let B;var se=S(Q,2);Me(se,0,()=>["A","B","C","D","E","F"],Je,(j,T)=>{var f=Fi();let O;var J=v(f);_(f),re(()=>{O=Ne(f,1,"gene-chip svelte-62apfn",null,O,{active:t(ie)===T}),f.disabled=!t(X),F(f,"title",x(()=>Ce[T])),F(J,"src",x(()=>Ee[T]||Ee[""])),F(J,"alt",T)}),oe("click",f,()=>Ft(T)),$(j,f)}),_(a);var R=S(a,2);kn(R);var V=S(R,2);Me(V,5,()=>t(Se),j=>j.id,(j,T)=>{var f=Hi(),O=v(f),J=S(O,2),z=v(J),Fe=v(z,!0);_(z);var he=S(z,2);Me(he,5,()=>(t(T),x(()=>t(T).genes)),Je,(de,xe)=>{var Ke=Di();re(()=>{F(Ke,"src",(t(xe),x(()=>Ee[t(xe)]||Ee[""]))),F(Ke,"alt",t(xe)),F(Ke,"title",(t(xe),x(()=>Ce[t(xe)])))}),$(de,Ke)}),_(he),_(J);var ke=S(J,2),ce=v(ke,!0);_(ke),_(f),re(de=>{Ne(f,1,`mut-row ${t(C),t(T),x(()=>t(C)?.id===t(T).id?"active":"")??""}`,"svelte-62apfn"),F(O,"src",de),F(O,"alt",(t(T),x(()=>t(T).name))),ye(Fe,(t(T),x(()=>t(T).name))),ye(ce,(t(T),x(()=>t(T).typeLabel)))},[()=>(t(T),x(()=>Tn(t(T))||""))]),oe("click",f,()=>Gn(t(T))),$(j,f)}),_(V),_(n),re(()=>{Ne(s,1,`filter-chip ${t(X)===""&&t(ie)===""?"active":""}`,"svelte-62apfn"),y=Ne(a,1,"filters-row gene2-row svelte-62apfn",null,y,{disabled:!t(X)}),Ne(k,1,`filter-chip ${t(ie)===""&&t(X)?"active":""}`,"svelte-62apfn"),k.disabled=!t(X),B=Ne(Q,1,"gene-chip svelte-62apfn",null,B,{active:t(ie)==="neutral"}),Q.disabled=!t(X)}),oe("click",s,()=>nn("all")),oe("click",k,()=>Ft("all")),oe("click",Q,()=>Ft("neutral")),An(R,()=>t(N),j=>I(N,j)),$(e,n)};me(on,e=>{t(ot)&&e(Yn)})}var ln=S(on,2),Jn=v(ln);{var Xn=e=>{var n=pr(),i=xn(n),s=v(i),l=v(s),a=v(l),y=v(a);{var k=w=>{var b=Wi();ft(),$(w,b)},Q=w=>{var b=zi();ft(2),$(w,b)};me(y,w=>{t(ot)?w(k):w(Q,!1)})}_(a),_(l),_(s);var B=S(s,2),se=v(B,!0);_(B),_(i);var R=S(i,2),V=v(R),j=v(V);{var T=w=>{var b=Gi();$(w,b)},f=w=>{var b=Ui();$(w,b)};me(j,w=>{t(qe)?w(T):w(f,!1)})}_(V),_(R);var O=S(R,2),J=v(O);Me(J,5,()=>(t(C),x(()=>t(C).genes)),Je,(w,b)=>{var q=Vi();re(()=>{F(q,"src",(t(b),x(()=>Ee[t(b)]||Ee[""]))),F(q,"alt",t(b))}),$(w,q)}),_(J);var z=S(J,2),Fe=v(z);_(z);var he=S(z,2),ke=v(he),ce=v(ke);Me(ce,1,()=>t(ve),Je,(w,b,q)=>{var ee=Ji(),ue=v(ee),De=S(v(ue),2);{var tt=ge=>{var Ae=ji();re(()=>{F(Ae,"src",(t(b),x(()=>t(b).icon))),F(Ae,"alt",(t(b),x(()=>t(b).id)))}),$(ge,Ae)};me(De,ge=>{t(b)&&ge(tt)})}_(ue);var lt=S(ue,2);{var Kt=ge=>{var Ae=qi();oe("click",Ae,()=>rn("basic",q)),$(ge,Ae)};me(lt,ge=>{t(b)&&ge(Kt)})}var Yt=S(lt,2);{var Pt=ge=>{var Ae=Yi();Me(Ae,5,()=>t(kt),Je,(Tt,He)=>{var nt=Ki(),ct=v(nt),ut=S(ct,2),Jt=v(ut,!0);_(ut),_(nt),re(()=>{F(ct,"src",(t(He),x(()=>t(He).icon))),F(ct,"alt",(t(He),x(()=>t(He).id))),ye(Jt,(t(He),x(()=>t(He).name||t(He).id)))}),oe("click",nt,()=>Un(q,t(He))),$(Tt,nt)}),_(Ae),$(ge,Ae)};me(Yt,ge=>{t(Re)===`basic-${q}`&&ge(Pt)})}_(ee),oe("click",ue,()=>I(Re,t(Re)===`basic-${q}`?null:`basic-${q}`)),$(w,ee)});var de=S(ce,2),xe=v(de),Ke=S(v(xe),2);{var Dt=w=>{var b=Xi();re(()=>{F(b,"src",(t(le),x(()=>t(le).icon))),F(b,"alt",(t(le),x(()=>t(le).id)))}),$(w,b)};me(Ke,w=>{t(le)&&w(Dt)})}_(xe);var St=S(xe,2);{var Ye=w=>{var b=Qi();oe("click",b,()=>rn("special")),$(w,b)};me(St,w=>{t(le)&&w(Ye)})}var et=S(St,2);{var Ht=w=>{var b=er();Me(b,5,()=>x(()=>Te.special),Je,(q,ee)=>{var ue=Zi(),De=v(ue),tt=S(De,2),lt=v(tt,!0);_(tt),_(ue),re(()=>{F(De,"src",(t(ee),x(()=>t(ee).icon))),F(De,"alt",(t(ee),x(()=>t(ee).id))),ye(lt,(t(ee),x(()=>t(ee).name||t(ee).id)))}),oe("click",ue,()=>Vn(t(ee))),$(q,ue)}),_(b),$(w,b)};me(et,w=>{t(Re)==="special"&&w(Ht)})}_(de),_(ke);var Ct=S(ke,2),$t=v(Ct),Et=S(v($t),2);kn(Et),_($t);var cn=S($t,2),pn=S(v(cn),2);Me(pn,4,()=>[0,1,2,3,4],Je,(w,b)=>{var q=tr();let ee;var ue=v(q);_(q),re(De=>{ee=Ne(q,1,"star svelte-62apfn",null,ee,{selected:t(Oe)===b}),q.disabled=De,F(q,"aria-pressed",t(Oe)===b),F(q,"title",b===0?"Без звёзд":b===1?"Бронза":b===2?"Серебро":b===3?"Золото":"Платина"),F(ue,"src",x(()=>vt[b]))},[()=>(t(C),x(()=>!t(C).availableStars.has(b)))]),oe("click",q,()=>I(Oe,b)),$(w,q)}),_(pn),_(cn),_(Ct),_(he),ki(he,w=>I(xt,w),()=>t(xt));var dn=S(he,2),Wt=v(dn),zt=v(Wt),Qn=v(zt);{var Zn=w=>{var b=nr();re(()=>F(b,"src",t(Ze))),$(w,b)};me(Qn,w=>{t(Ze)&&w(Zn)})}ft(),_(zt);var un=S(zt,2),ei=v(un,!0);_(un),_(Wt);var Gt=S(Wt,2),_n=S(v(Gt)),ti=v(_n,!0);_(_n),_(Gt);var Ut=S(Gt,2),Vt=v(Ut),ni=v(Vt);ft(),_(Vt);var fn=S(Vt,2),ii=v(fn,!0);_(fn),_(Ut);var mn=S(Ut,2);Me(mn,1,()=>t(wt),w=>w.attack,(w,b)=>{var q=cr(),ee=v(q),ue=v(ee);let De;var tt=v(ue);{var lt=_e=>{var Ge=ir();re(()=>F(Ge,"src",(t(b),x(()=>t(b).geneIcon)))),$(_e,Ge)};me(tt,_e=>{t(b),x(()=>t(b).geneIcon)&&_e(lt)})}var Kt=S(tt,2);{var Yt=_e=>{var Ge=rr();$(_e,Ge)};me(Kt,_e=>{t(b),x(()=>t(b).isAoe)&&_e(Yt)})}_(ue);var Pt=S(ue,2),ge=v(Pt),Ae=v(ge,!0);_(ge);var Tt=S(ge,2),He=v(Tt,!0);_(Tt),_(Pt),_(ee);var nt=S(ee,2);let ct;var ut=S(nt,2),Jt=v(ut);{var oi=_e=>{var Ge=yi(),ci=xn(Ge);Me(ci,3,()=>(t(b),x(()=>t(b).effects)),(_t,fe)=>_t.label+_t.value+_t.percent+fe,(_t,fe)=>{var Xt=or(),gn=v(Xt);{var pi=Ue=>{var it=ar();re(()=>{F(it,"src",(t(fe),x(()=>t(fe).icon))),F(it,"alt",(t(fe),x(()=>t(fe).label)))}),$(Ue,it)};me(gn,Ue=>{t(fe),x(()=>t(fe).icon)&&Ue(pi)})}var Qt=S(gn,2),yn=v(Qt),di=S(yn);{var ui=Ue=>{var it=sr(),fi=v(it);_(it),re(mi=>ye(fi,`${mi??""}%`),[()=>(t(fe),x(()=>t(fe).percent.toLocaleString("ru-RU")))]),$(Ue,it)};me(di,Ue=>{t(fe),x(()=>t(fe).percent!=null)&&Ue(ui)})}_(Qt);var wn=S(Qt,2),_i=v(wn,!0);_(wn),_(Xt),re(Ue=>{ye(yn,`${t(fe),x(()=>t(fe).label)??""} `),ye(_i,Ue)},[()=>(t(fe),x(()=>t(fe).value.toLocaleString("ru-RU")))]),$(_t,Xt)}),$(_e,Ge)},li=_e=>{var Ge=lr();$(_e,Ge)};me(Jt,_e=>{t(b),x(()=>t(b).effects.length)?_e(oi):_e(li,!1)})}_(ut),_(q),re(_e=>{De=Ne(ue,1,"attack-gene svelte-62apfn",null,De,{empty:!t(b).geneIcon}),ye(Ae,(t(b),x(()=>t(b).label))),ye(He,_e),ct=Ne(nt,1,"ability-divider svelte-62apfn",null,ct,{empty:!t(b).effects.length})},[()=>(t(b),x(()=>t(b).damage?t(b).damage.toLocaleString("ru-RU"):"—"))]),$(w,q)});var jt=S(mn,2),qt=v(jt),ri=v(qt);ft(),_(qt);var bn=S(qt,2),ai=v(bn,!0);_(bn),_(jt);var vn=S(jt,2),hn=S(v(vn),2),si=v(hn,!0);_(hn),_(vn),_(dn),_(O),re((w,b,q,ee)=>{F(l,"title",t(ot)?"Скрыть поиск":"Показать поиск"),ye(se,(t(C),x(()=>t(C).name))),V.disabled=t(qe),F(Fe,"src",w),F(Fe,"alt",(t(C),x(()=>t(C).name))),ye(ei,(t(C),x(()=>t(C).typeLabel||t(C).type||"—"))),ye(ti,(t(C),x(()=>t(C).tierLabel||t(C).tier||"—"))),F(ni,"src",x(()=>D.hp)),ye(ii,b),F(ri,"src",x(()=>D.speed)),ye(ai,q),ye(si,ee)},[()=>(t(C),t(Oe),x(()=>Pn(t(C),t(Oe)))),()=>(t(m),x(()=>t(m).hp.toLocaleString("ru-RU"))),()=>(t(m),x(()=>zn(t(m).speed))),()=>(t(m),x(()=>t(m).bank.toLocaleString("ru-RU")))]),oe("click",l,qn),oe("click",V,Kn),oe("click",xe,()=>I(Re,t(Re)==="special"?null:"special")),An(Et,()=>t(ze),w=>I(ze,w)),oe("keydown",Et,w=>{(w.key==="-"||w.key==="e"||w.key==="+")&&w.preventDefault()}),oe("input",Et,w=>{w.target.value<0&&I(ze,0)}),$(e,n)};me(Jn,e=>{t(C)&&e(Xn)})}_(ln),_(At),re(()=>sn=Ne(At,1,"stats-page svelte-62apfn",null,sn,{"single-col":!t(ot)})),$(ne,At),vi()}export{kr as default};
