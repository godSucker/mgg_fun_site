import{i as I0,r as m0}from"./attributes.BMDjYIYG.js";import{t as H,g as t,J,a as W,F as T0,s as e,c as r,f as X,G as q0,r as o,a7 as D0,b as w,H as d,I as b,E as H0}from"./render.e71zp6dr.js";import{b as x0}from"./input.T_F2MOpi.js";import{b as J0}from"./select.D0UFVnrJ.js";import{i as W0}from"./lifecycle.BWefaNsD.js";/* empty css                                    */const X0=[null,{id:1,gold:0,silver:0},{id:2,gold:0,silver:0},{id:3,gold:0,silver:0},{id:4,gold:0,silver:0},{id:5,gold:0,silver:0},{id:6,gold:5,silver:2e4},{id:7,gold:8,silver:3e4},{id:8,gold:10,silver:38700},{id:9,gold:12,silver:49e3},{id:10,gold:25,silver:1e5},{id:11,gold:38,silver:15e4},{id:12,gold:44,silver:174e3},{id:13,gold:51,silver:204e3},{id:14,gold:59,silver:237e3},{id:15,gold:190,silver:76e4},{id:16,gold:275,silver:11e5},{id:17,gold:393,silver:157e4},{id:18,gold:588,silver:235e4},{id:19,gold:655,silver:262e4},{id:20,gold:1008,silver:403e4},{id:21,gold:1113,silver:445e4},{id:22,gold:1220,silver:488e4},{id:23,gold:1333,silver:533e4},{id:24,gold:1453,silver:581e4},{id:25,gold:2205,silver:882e4},{id:26,gold:2385,silver:954e4},{id:27,gold:2575,silver:103e5},{id:28,gold:2775,silver:111e5},{id:29,gold:2975,silver:119e5},{id:30,gold:3e3,silver:181e5},{id:31,gold:3e3,silver:194e5},{id:32,gold:3e3,silver:206e5},{id:33,gold:3e3,silver:22e6},{id:34,gold:3e3,silver:233e5},{id:35,gold:3e3,silver:37e6},{id:36,gold:3e3,silver:392e5},{id:37,gold:3e3,silver:414e5},{id:38,gold:3e3,silver:437e5},{id:39,gold:3e3,silver:46e6},{id:40,gold:3e3,silver:484e5},{id:41,gold:3e3,silver:508e5},{id:42,gold:3e3,silver:533e5},{id:43,gold:3e3,silver:559e5},{id:44,gold:3e3,silver:585e5},{id:45,gold:3e3,silver:612e5},{id:46,gold:3e3,silver:64e6},{id:47,gold:3e3,silver:668e5},{id:48,gold:3e3,silver:697e5},{id:49,gold:3e3,silver:726e5},{id:50,gold:3e3,silver:756e5},{id:51,gold:3e3,silver:787e5},{id:52,gold:3e3,silver:818e5},{id:53,gold:3e3,silver:849e5},{id:54,gold:3e3,silver:882e5},{id:55,gold:3e3,silver:915e5},{id:56,gold:3e3,silver:948e5},{id:57,gold:3e3,silver:982e5},{id:58,gold:3e3,silver:102e6},{id:59,gold:3e3,silver:105e6},{id:60,gold:3e3,silver:109e6},{id:61,gold:3e3,silver:113e6},{id:62,gold:3e3,silver:116e6},{id:63,gold:3e3,silver:12e7},{id:64,gold:3e3,silver:124e6},{id:65,gold:3e3,silver:128e6},{id:66,gold:3e3,silver:132e6},{id:67,gold:3e3,silver:136e6},{id:68,gold:3e3,silver:14e7},{id:69,gold:3e3,silver:144e6},{id:70,gold:3e3,silver:148e6},{id:71,gold:3e3,silver:152e6},{id:72,gold:3e3,silver:157e6},{id:73,gold:3e3,silver:161e6},{id:74,gold:3e3,silver:166e6},{id:75,gold:3e3,silver:17e7},{id:76,gold:3e3,silver:175e6},{id:77,gold:3e3,silver:179e6},{id:78,gold:3e3,silver:184e6},{id:79,gold:3e3,silver:189e6},{id:80,gold:3e3,silver:194e6},{id:81,gold:3e3,silver:198e6},{id:82,gold:3e3,silver:203e6},{id:83,gold:3e3,silver:208e6},{id:84,gold:3e3,silver:213e6},{id:85,gold:3e3,silver:218e6},{id:86,gold:3e3,silver:224e6},{id:87,gold:3e3,silver:229e6},{id:88,gold:3e3,silver:234e6},{id:89,gold:3e3,silver:24e7},{id:90,gold:3e3,silver:245e6},{id:91,gold:3e3,silver:25e7},{id:92,gold:3e3,silver:256e6},{id:93,gold:3e3,silver:262e6},{id:94,gold:3e3,silver:267e6},{id:95,gold:3e3,silver:273e6},{id:96,gold:3e3,silver:279e6},{id:97,gold:3e3,silver:285e6},{id:98,gold:3e3,silver:29e7},{id:99,gold:3e3,silver:296e6},{id:100,gold:3e3,silver:302e6},{id:101,gold:3e3,silver:308e6},{id:102,gold:3e3,silver:315e6},{id:103,gold:3e3,silver:321e6},{id:104,gold:3e3,silver:327e6},{id:105,gold:3e3,silver:333e6},{id:106,gold:3e3,silver:34e7},{id:107,gold:3e3,silver:346e6},{id:108,gold:3e3,silver:353e6},{id:109,gold:3e3,silver:359e6},{id:110,gold:3e3,silver:366e6},{id:111,gold:3e3,silver:373e6},{id:112,gold:3e3,silver:379e6},{id:113,gold:3e3,silver:386e6},{id:114,gold:3e3,silver:393e6},{id:115,gold:3e3,silver:4e8},{id:116,gold:3e3,silver:407e6},{id:117,gold:3e3,silver:414e6},{id:118,gold:3e3,silver:421e6},{id:119,gold:3e3,silver:428e6},{id:120,gold:3e3,silver:435e6},{id:121,gold:3e3,silver:443e6},{id:122,gold:3e3,silver:45e7},{id:123,gold:3e3,silver:458e6},{id:124,gold:3e3,silver:465e6},{id:125,gold:3e3,silver:473e6},{id:126,gold:3e3,silver:48e7},{id:127,gold:3e3,silver:488e6},{id:128,gold:3e3,silver:495e6},{id:129,gold:3e3,silver:503e6},{id:130,gold:3e3,silver:511e6},{id:131,gold:3e3,silver:519e6},{id:132,gold:3e3,silver:527e6},{id:133,gold:3e3,silver:535e6},{id:134,gold:3e3,silver:543e6},{id:135,gold:3e3,silver:551e6},{id:136,gold:3e3,silver:559e6},{id:137,gold:3e3,silver:568e6},{id:138,gold:3e3,silver:576e6},{id:139,gold:3e3,silver:584e6},{id:140,gold:3e3,silver:593e6},{id:141,gold:3e3,silver:601e6},{id:142,gold:3e3,silver:61e7},{id:143,gold:3e3,silver:618e6},{id:144,gold:3e3,silver:627e6},{id:145,gold:3e3,silver:636e6},{id:146,gold:3e3,silver:645e6},{id:147,gold:3e3,silver:653e6},{id:148,gold:3e3,silver:662e6},{id:149,gold:3e3,silver:671e6},{id:150,gold:3e3,silver:68e7},{id:151,gold:3e3,silver:69e7},{id:152,gold:3e3,silver:699e6},{id:153,gold:3e3,silver:708e6},{id:154,gold:3e3,silver:717e6},{id:155,gold:3e3,silver:727e6},{id:156,gold:3e3,silver:736e6},{id:157,gold:3e3,silver:745e6},{id:158,gold:3e3,silver:755e6},{id:159,gold:3e3,silver:764e6},{id:160,gold:3e3,silver:774e6},{id:161,gold:3e3,silver:779e6},{id:162,gold:3e3,silver:784e6},{id:163,gold:3e3,silver:789e6},{id:164,gold:3e3,silver:793e6},{id:165,gold:3e3,silver:798e6},{id:166,gold:3e3,silver:803e6},{id:167,gold:3e3,silver:808e6},{id:168,gold:3e3,silver:813e6},{id:169,gold:3e3,silver:818e6},{id:170,gold:3e3,silver:823e6},{id:171,gold:3e3,silver:827e6},{id:172,gold:3e3,silver:832e6},{id:173,gold:3e3,silver:837e6},{id:174,gold:3e3,silver:842e6},{id:175,gold:3e3,silver:847e6},{id:176,gold:3e3,silver:852e6},{id:177,gold:3e3,silver:856e6},{id:178,gold:3e3,silver:861e6},{id:179,gold:3e3,silver:866e6},{id:180,gold:3e3,silver:871e6},{id:181,gold:3e3,silver:876e6},{id:182,gold:3e3,silver:881e6},{id:183,gold:3e3,silver:885e6},{id:184,gold:3e3,silver:89e7},{id:185,gold:3e3,silver:895e6},{id:186,gold:3e3,silver:9e8},{id:187,gold:3e3,silver:905e6},{id:188,gold:3e3,silver:91e7},{id:189,gold:3e3,silver:914e6},{id:190,gold:3e3,silver:919e6},{id:191,gold:3e3,silver:924e6},{id:192,gold:3e3,silver:929e6},{id:193,gold:3e3,silver:934e6},{id:194,gold:3e3,silver:939e6},{id:195,gold:3e3,silver:943e6},{id:196,gold:3e3,silver:948e6},{id:197,gold:3e3,silver:953e6},{id:198,gold:3e3,silver:958e6},{id:199,gold:3e3,silver:963e6},{id:200,gold:3e3,silver:968e6},{id:201,gold:3e3,silver:973e6},{id:202,gold:3e3,silver:977e6},{id:203,gold:3e3,silver:982e6},{id:204,gold:3e3,silver:987e6},{id:205,gold:3e3,silver:992e6},{id:206,gold:3e3,silver:997e6},{id:207,gold:3e3,silver:1e9},{id:208,gold:3e3,silver:101e7},{id:209,gold:3e3,silver:101e7},{id:210,gold:3e3,silver:102e7},{id:211,gold:3e3,silver:102e7},{id:212,gold:3e3,silver:103e7},{id:213,gold:3e3,silver:103e7},{id:214,gold:3e3,silver:104e7},{id:215,gold:3e3,silver:104e7},{id:216,gold:3e3,silver:105e7},{id:217,gold:3e3,silver:105e7},{id:218,gold:3e3,silver:105e7},{id:219,gold:3e3,silver:106e7},{id:220,gold:3e3,silver:106e7},{id:221,gold:3e3,silver:107e7},{id:222,gold:3e3,silver:107e7},{id:223,gold:3e3,silver:108e7},{id:224,gold:3e3,silver:108e7},{id:225,gold:3e3,silver:109e7},{id:226,gold:3e3,silver:109e7},{id:227,gold:3e3,silver:11e8},{id:228,gold:3e3,silver:11e8},{id:229,gold:3e3,silver:111e7},{id:230,gold:3e3,silver:111e7},{id:231,gold:3e3,silver:112e7},{id:232,gold:3e3,silver:112e7},{id:233,gold:3e3,silver:113e7},{id:234,gold:3e3,silver:113e7},{id:235,gold:3e3,silver:114e7},{id:236,gold:3e3,silver:114e7},{id:237,gold:3e3,silver:115e7},{id:238,gold:3e3,silver:115e7},{id:239,gold:3e3,silver:116e7},{id:240,gold:3e3,silver:116e7},{id:241,gold:3e3,silver:117e7},{id:242,gold:3e3,silver:117e7},{id:243,gold:3e3,silver:118e7},{id:244,gold:3e3,silver:118e7},{id:245,gold:3e3,silver:119e7},{id:246,gold:3e3,silver:119e7},{id:247,gold:3e3,silver:12e8},{id:248,gold:3e3,silver:12e8},{id:249,gold:3e3,silver:12e8},{id:250,gold:3e3,silver:121e7},{id:251,gold:3e3,silver:121e7},{id:252,gold:3e3,silver:122e7},{id:253,gold:3e3,silver:122e7},{id:254,gold:3e3,silver:123e7},{id:255,gold:3e3,silver:123e7},{id:256,gold:3e3,silver:124e7},{id:257,gold:3e3,silver:124e7},{id:258,gold:3e3,silver:125e7},{id:259,gold:3e3,silver:125e7},{id:260,gold:3e3,silver:126e7},{id:261,gold:3e3,silver:126e7},{id:262,gold:3e3,silver:127e7},{id:263,gold:3e3,silver:127e7},{id:264,gold:3e3,silver:128e7},{id:265,gold:3e3,silver:128e7},{id:266,gold:3e3,silver:129e7},{id:267,gold:3e3,silver:129e7},{id:268,gold:3e3,silver:13e8},{id:269,gold:3e3,silver:13e8},{id:270,gold:3e3,silver:131e7},{id:271,gold:3e3,silver:131e7},{id:272,gold:3e3,silver:132e7},{id:273,gold:3e3,silver:132e7},{id:274,gold:3e3,silver:133e7},{id:275,gold:3e3,silver:133e7},{id:276,gold:3e3,silver:134e7},{id:277,gold:3e3,silver:134e7},{id:278,gold:3e3,silver:135e7},{id:279,gold:3e3,silver:135e7},{id:280,gold:3e3,silver:135e7},{id:281,gold:3e3,silver:136e7},{id:282,gold:3e3,silver:136e7},{id:283,gold:3e3,silver:137e7},{id:284,gold:3e3,silver:137e7},{id:285,gold:3e3,silver:138e7},{id:286,gold:3e3,silver:138e7},{id:287,gold:3e3,silver:139e7},{id:288,gold:3e3,silver:139e7},{id:289,gold:3e3,silver:14e8},{id:290,gold:3e3,silver:14e8},{id:291,gold:3e3,silver:141e7},{id:292,gold:3e3,silver:141e7},{id:293,gold:3e3,silver:142e7},{id:294,gold:3e3,silver:142e7},{id:295,gold:3e3,silver:143e7},{id:296,gold:3e3,silver:143e7},{id:297,gold:3e3,silver:144e7},{id:298,gold:3e3,silver:144e7},{id:299,gold:3e3,silver:145e7},{id:300,gold:3e3,silver:145e7},{id:301,gold:3e3,silver:146e7},{id:302,gold:3e3,silver:146e7},{id:303,gold:3e3,silver:147e7},{id:304,gold:3e3,silver:147e7},{id:305,gold:3e3,silver:148e7},{id:306,gold:3e3,silver:148e7},{id:307,gold:3e3,silver:149e7},{id:308,gold:3e3,silver:149e7},{id:309,gold:3e3,silver:15e8},{id:310,gold:3e3,silver:15e8},{id:311,gold:3e3,silver:15e8},{id:312,gold:3e3,silver:151e7},{id:313,gold:3e3,silver:151e7},{id:314,gold:3e3,silver:152e7},{id:315,gold:3e3,silver:152e7},{id:316,gold:3e3,silver:153e7},{id:317,gold:3e3,silver:153e7},{id:318,gold:3e3,silver:154e7},{id:319,gold:3e3,silver:154e7},{id:320,gold:3e3,silver:155e7},{id:321,gold:3e3,silver:155e7},{id:322,gold:3e3,silver:156e7},{id:323,gold:3e3,silver:156e7},{id:324,gold:3e3,silver:157e7},{id:325,gold:3e3,silver:157e7},{id:326,gold:3e3,silver:158e7},{id:327,gold:3e3,silver:158e7},{id:328,gold:3e3,silver:159e7},{id:329,gold:3e3,silver:159e7},{id:330,gold:3e3,silver:159e7},{id:331,gold:3e3,silver:159e7},{id:332,gold:3e3,silver:159e7},{id:333,gold:3e3,silver:159e7},{id:334,gold:3e3,silver:159e7},{id:335,gold:3e3,silver:159e7},{id:336,gold:3e3,silver:159e7},{id:337,gold:3e3,silver:159e7},{id:338,gold:3e3,silver:159e7},{id:339,gold:3e3,silver:159e7},{id:340,gold:3e3,silver:159e7},{id:341,gold:3e3,silver:159e7},{id:342,gold:3e3,silver:159e7},{id:343,gold:3e3,silver:159e7},{id:344,gold:3e3,silver:159e7},{id:345,gold:3e3,silver:159e7},{id:346,gold:3e3,silver:159e7},{id:347,gold:3e3,silver:159e7},{id:348,gold:3e3,silver:159e7},{id:349,gold:3e3,silver:159e7},{id:350,gold:3e3,silver:159e7},{id:351,gold:3e3,silver:159e7},{id:352,gold:3e3,silver:159e7},{id:353,gold:3e3,silver:159e7},{id:354,gold:3e3,silver:159e7},{id:355,gold:3e3,silver:159e7},{id:356,gold:3e3,silver:159e7},{id:357,gold:3e3,silver:159e7},{id:358,gold:3e3,silver:159e7},{id:359,gold:3e3,silver:159e7},{id:360,gold:3e3,silver:159e7},{id:361,gold:3e3,silver:159e7},{id:362,gold:3e3,silver:159e7},{id:363,gold:3e3,silver:159e7},{id:364,gold:3e3,silver:159e7},{id:365,gold:3e3,silver:159e7},{id:366,gold:3e3,silver:159e7},{id:367,gold:3e3,silver:159e7},{id:368,gold:3e3,silver:159e7},{id:369,gold:3e3,silver:159e7},{id:370,gold:3e3,silver:159e7},{id:371,gold:3e3,silver:159e7},{id:372,gold:3e3,silver:159e7},{id:373,gold:3e3,silver:159e7},{id:374,gold:3e3,silver:159e7},{id:375,gold:3e3,silver:159e7},{id:376,gold:3e3,silver:159e7},{id:377,gold:3e3,silver:159e7},{id:378,gold:3e3,silver:159e7},{id:379,gold:3e3,silver:159e7},{id:380,gold:3e3,silver:159e7},{id:381,gold:3e3,silver:159e7},{id:382,gold:3e3,silver:159e7},{id:383,gold:3e3,silver:159e7},{id:384,gold:3e3,silver:159e7},{id:385,gold:3e3,silver:159e7},{id:386,gold:3e3,silver:159e7},{id:387,gold:3e3,silver:159e7},{id:388,gold:3e3,silver:159e7},{id:389,gold:3e3,silver:159e7},{id:390,gold:3e3,silver:159e7},{id:391,gold:3e3,silver:159e7},{id:392,gold:3e3,silver:159e7},{id:393,gold:3e3,silver:159e7},{id:394,gold:3e3,silver:159e7},{id:395,gold:3e3,silver:159e7},{id:396,gold:3e3,silver:159e7},{id:397,gold:3e3,silver:159e7},{id:398,gold:3e3,silver:159e7},{id:399,gold:3e3,silver:159e7},{id:400,gold:3e3,silver:159e7}];var z0=X('<div class="text-rose-300/90"> </div>'),K0=X('<p class="mt-1 text-sky-300/80 text-sm">Достигнут верхний предел уровня.</p>'),Q0=X('<div class="space-y-1.5"><div class="flex justify-between gap-2"><span class="text-sky-300/80">Финальный уровень:</span><strong> </strong></div> <div class="flex justify-between gap-2"><span class="text-sky-300/80">Поднятно уровней:</span><strong> </strong></div> <hr class="my-2 border-slate-700/70"/> <div class="flex justify-between gap-2"><span class="text-sky-300/80">Потрачено серебра:</span><strong> </strong></div> <div class="flex justify-between gap-2"><span class="text-sky-300/80">Потрачено золота:</span><strong> </strong></div> <div class="flex justify-between gap-2"><span class="text-sky-300/80">Остаток серебра:</span><strong> </strong></div> <div class="flex justify-between gap-2"><span class="text-sky-300/80">Остаток золота:</span><strong> </strong></div></div> <p class="mt-3 text-sky-200/70 text-sm">Можно вводить только золото или только серебро — калькулятор сам поймёт.</p> <!>',1),Y0=X('<div class="max-w-5xl mx-auto p-4"><h1 class="text-2xl md:text-3xl font-bold text-sky-100">Калькулятор эво</h1> <p class="text-sky-200/80 mt-1">Введите стартовый уровень и ресурсы — калькулятор посчитает финальный уровень.</p> <div class="mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4"><div class="rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4 backdrop-blur"><h2 class="text-sky-100 font-bold mb-3">Ввод данных</h2> <div class="space-y-3"><label class="block"><span class="text-sky-300/80 text-sm">Стартовый уровень (≥ 5)</span> <input type="text" inputmode="numeric" placeholder="Например, 120" class="mt-1 w-full rounded-xl border border-slate-700/70 bg-slate-950/60 text-sky-100 placeholder-slate-500 outline-none focus:ring-2 focus:ring-sky-500/60 evo-pad svelte-33uaic"/></label> <label class="block"><span class="text-sky-300/80 text-sm">Серебро</span> <input type="text" inputmode="numeric" placeholder="Можно оставить пустым" class="mt-1 w-full rounded-xl border border-slate-700/70 bg-slate-950/60 text-sky-100 placeholder-slate-500 outline-none focus:ring-2 focus:ring-sky-500/60 evo-pad svelte-33uaic"/></label> <label class="block"><span class="text-sky-300/80 text-sm">Золото</span> <input type="text" inputmode="numeric" placeholder="Можно оставить пустым" class="mt-1 w-full rounded-xl border border-slate-700/70 bg-slate-950/60 text-sky-100 placeholder-slate-500 outline-none focus:ring-2 focus:ring-sky-500/60 evo-pad svelte-33uaic"/></label> <label class="block"><span class="text-sky-300/80 text-sm">Скидка</span> <select class="mt-1 w-full rounded-xl border border-slate-700/70 bg-slate-950/60 text-sky-100 outline-none focus:ring-2 focus:ring-sky-500/60 evo-pad svelte-33uaic"><option>0%</option><option>60%</option><option>70%</option><option>80%</option></select></label> <div class="pt-2"><button class="px-4 py-2 rounded-xl bg-sky-600 hover:bg-sky-500 text-white ring-1 ring-white/10 disabled:opacity-60"> </button></div></div></div> <div class="rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4 backdrop-blur"><h2 class="text-sky-100 font-bold mb-3">Результат</h2> <!></div></div></div>');function sl(L0,B0){q0(B0,!1);const B=5,G=1e6,A=328;let R=b(""),j=b(""),F=b(""),P=b("70"),C=b(""),I=b(!1),z=b("—"),K=b("—"),Q=b("—"),Y=b("—"),Z=b("—"),$=b("—"),l0=b(!1);const _0=l=>{if(typeof l=="bigint")return l;if(typeof l=="number")return BigInt(Math.max(0,Math.floor(l||0)));const i=String(l??"").trim().replace(/[^\d]/g,"");return i?BigInt(i):0n},U=l=>l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),G0=l=>l.replace(/\B(?=(\d{3})+(?!\d))/g,",");function i0(l,i){const s=l.currentTarget,g=s.value??"",p=typeof s.selectionEnd=="number"?s.selectionEnd:g.length;let y=0;for(let c=0;c<p;c++){const k=g.charCodeAt(c);k>=48&&k<=57&&y++}const h=g.replace(/[^\d]/g,""),m=G0(h);i(m);let v=0,a=0;for(;v<m.length;){const c=m.charCodeAt(v);if(c>=48&&c<=57&&(a++,a===y)){v++;break}v++}const f=v;requestAnimationFrame(()=>{try{s.setSelectionRange(f,f)}catch{}})}const C0=l=>i0(l,i=>{d(R,i)}),E0=l=>i0(l,i=>{d(j,i)}),N0=l=>i0(l,i=>{d(F,i)});function y0(l,i){const s=100n-BigInt(Math.max(0,Math.min(100,Number(i||0)))),g=l*s,p=100n;return g%p===0n?g/p:g/p+1n}function A0(l){const i=X0;if(!Array.isArray(i)||i.length<2)return null;if(i[l]&&typeof i[l].gold=="number"&&typeof i[l].silver=="number")return i[l];for(let s=Math.min(l,i.length-1);s>=1;s--){const g=i[s];if(g&&typeof g.gold=="number"&&typeof g.silver=="number")return g}return null}function d0(l,i){const s=A0(l);if(!s)return{s:0n,g:0n};const g=BigInt(Math.max(0,Math.floor(s.silver||0))),p=BigInt(Math.max(0,Math.floor(s.gold||0))),y=BigInt(Math.max(0,Math.min(100,Number(i||0)))),h=y0(g,y),m=y0(p,y);return{s:h,g:m}}function R0(l){let i=d0(A,l);if(i.s>0n||i.g>0n)return i;for(let s=A-1;s>=B+1;s--)if(i=d0(s,l),i.s>0n||i.g>0n)return i;return{s:0n,g:0n}}function j0(l,i,s,g){const p=Number(String(l).replace(/[^\d]/g,"")||"0"),y=_0(i),h=_0(s),m=Number(g||0);if(!Number.isFinite(p)||p<B)return{error:`Минимальный стартовый уровень — ${B}.`,endLevel:B};let v=Math.max(B,Math.floor(p)),a=y,f=h,c=0;const k=R0(m);for(;v<A;){const u=v+1,{s:n,g:x}=d0(u,m);if(n===0n&&x===0n){if(v=u,c++,v>=A)break;continue}if(n>0n&&a>=n){if(a-=n,V+=n,v=u,c++,v>=G)break;continue}if(x>0n&&f>=x){if(f-=x,O+=x,v=u,c++,v>=G)break;continue}break}if(v<G){const{s:u,g:n}=k;if(u===0n&&n===0n)return{error:"Данные стоимости некорректны (нулевая цена после 328).",endLevel:v};const x=BigInt(G-v),b0=u>0n?a/u:0n,D=n>0n?f/n:0n;let L=b0+D;L>x&&(L=x);let M=L;if(u>0n){const S=M*u,_=S<=a?S:a-a%u,N=u>0n?_/u:0n;a-=_,V+=_,v+=Number(N),c+=Number(N),M-=N}if(M>0n&&n>0n){const E=M*n,S=E<=f?E:f-f%n,_=n>0n?S/n:0n;f-=S,O+=S,v+=Number(_),c+=Number(_),M-=_}}const q=v>=G;return{endLevel:v,upgrades:c,leftSilver:a,leftGold:f,spentSilver:V,spentGold:O,hitCap:q}}let V=0n,O=0n;async function F0(){d(C,""),d(I,!0),V=0n,O=0n;try{const l=j0(t(R),t(j),t(F),t(P));if(l.error){d(C,l.error),d(z,"—"),d(K,"—"),d(Q,"—"),d(Y,"—"),d(Z,"—"),d($,"—"),d(l0,!1),d(I,!1);return}d(z,l.endLevel.toLocaleString("ru-RU")),d(K,l.upgrades.toLocaleString("ru-RU")),d(Q,U(l.spentSilver)),d(Y,U(l.spentGold)),d(Z,U(l.leftSilver)),d($,U(l.leftGold)),d(l0,l.hitCap),d(I,!1)}catch{d(C,"Ошибка расчёта."),d(I,!1)}}W0();var e0=Y0(),h0=e(r(e0),4),s0=r(h0),k0=e(r(s0),2),r0=r(k0),o0=e(r(r0),2);m0(o0),o(r0);var v0=e(r0,2),g0=e(r(v0),2);m0(g0),o(v0);var t0=e(v0,2),n0=e(r(t0),2);m0(n0),o(t0);var a0=e(t0,2),c0=e(r(a0),2);H(()=>{t(P),D0(()=>{})});var u0=r(c0);u0.value=u0.__value="0";var p0=e(u0);p0.value=p0.__value="60";var f0=e(p0);f0.value=f0.__value="70";var S0=e(f0);S0.value=S0.__value="80",o(c0),o(a0);var w0=e(a0,2),T=r(w0),P0=r(T,!0);o(T),o(w0),o(k0),o(s0);var M0=e(s0,2),U0=e(r(M0),2);{var V0=l=>{var i=z0(),s=r(i,!0);o(i),H(()=>w(s,t(C))),W(l,i)},O0=l=>{var i=Q0(),s=H0(i),g=r(s),p=e(r(g)),y=r(p,!0);o(p),o(g);var h=e(g,2),m=e(r(h)),v=r(m,!0);o(m),o(h);var a=e(h,4),f=e(r(a)),c=r(f,!0);o(f),o(a);var k=e(a,2),q=e(r(k)),u=r(q,!0);o(q),o(k);var n=e(k,2),x=e(r(n)),b0=r(x,!0);o(x),o(n);var D=e(n,2),L=e(r(D)),M=r(L,!0);o(L),o(D),o(s);var E=e(s,4);{var S=_=>{var N=K0();W(_,N)};I0(E,_=>{t(l0)&&_(S)})}H(()=>{w(y,t(z)),w(v,t(K)),w(c,t(Q)),w(u,t(Y)),w(b0,t(Z)),w(M,t($))}),W(l,i)};I0(U0,l=>{t(C)?l(V0):l(O0,!1)})}o(M0),o(h0),o(e0),H(()=>{T.disabled=t(I),w(P0,t(I)?"Считаю…":"Рассчитать")}),x0(o0,()=>t(R),l=>d(R,l)),J("input",o0,C0),x0(g0,()=>t(j),l=>d(j,l)),J("input",g0,E0),x0(n0,()=>t(F),l=>d(F,l)),J("input",n0,N0),J0(c0,()=>t(P),l=>d(P,l)),J("click",T,F0),W(L0,e0),T0()}export{sl as default};
